{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/thread-loader/dist/cjs.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/createplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/createplan.vue","mtime":1610416753644},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnQtZGVzaWduLXZ1ZS9lcy9tZXNzYWdlL3N0eWxlIjsKaW1wb3J0IF9tZXNzYWdlIGZyb20gImFudC1kZXNpZ24tdnVlL2VzL21lc3NhZ2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvblZpc2libGU6IGZhbHNlLAogICAgICBsYWJlbENvbDogewogICAgICAgIHNwYW46IDQKICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHNwYW46IDE0CiAgICAgIH0sCiAgICAgIGZvcm06IHsKICAgICAgICBjbGllbnRWZXJzaW9uOiAiIiwKICAgICAgICBwbGFuQnVzaW5lc3M6IFtdLAogICAgICAgIHBsYW5TdGFydDogIiIsCiAgICAgICAgcGxhbkVuZDogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBjbGllbnRWZXJzaW9uOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5pys5qyh5Zue5b2S6K6h5YiS54mI5pysIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMywKICAgICAgICAgIG1heDogMTAsCiAgICAgICAgICBtZXNzYWdlOiAi6K6h5YiS54mI5pys5Li6M++9njEw5Liq5a2X56ym6ZW/5bqmIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBsYW5CdXNpbmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaJgOWxnuS4muWKoSIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIiwKICAgICAgICAgIHR5cGU6ICJhcnJheSIKICAgICAgICB9XSwKICAgICAgICBwbGFuU3RhcnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6norqHliJLlvIDlp4vml7bpl7QiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBwbGFuRW5kOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup6K6h5YiS57uT5p2f5pe26Ze0IiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIC8vIOi/memHjOimgeS9v+eUqOS4gOS4quebkeWQrOWxnuaAp++8jOajgOa1i+eItuWxnuaAp3Zpc2libGXnmoTlj5jljJYKICB3YXRjaDogewogICAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZSgpIHsKICAgICAgdGhpcy5zb25WaXNpYmxlID0gdGhpcy52aXNpYmxlOwogICAgfSwKICAgIG5vd0NvbHVtbnM6IGZ1bmN0aW9uIG5vd0NvbHVtbnMoKSB7CiAgICAgIHRoaXMuZm9ybS5pbnRlcmZhY2VQYXRoID0gdGhpcy5ub3dDb2x1bW5zLmludGVyZmFjZVBhdGg7CiAgICAgIHRoaXMuZm9ybS5pbnRlcmZhY2VSZWd1bGFyID0gdGhpcy5ub3dDb2x1bW5zLmludGVyZmFjZVJlZ3VsYXI7CiAgICAgIHRoaXMuZm9ybS5iZWxvbmdCdXNpbmVzcyA9IHRoaXMubm93Q29sdW1ucy5jb250ZW50OwogICAgICB0aGlzLmZvcm0uaW50ZXJmYWNlRGVzYyA9IHRoaXMubm93Q29sdW1ucy5pbnRlcmZhY2VEZXNjOwogICAgfQogIH0sCiAgcHJvcHM6IFsidmlzaWJsZSIsICJub3dDb2x1bW5zIl0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBkYXRhRm9ybSA9IHsKICAgICAgICAgICAgY2xpZW50VmVyc2lvbjogX3RoaXMuZm9ybS5jbGllbnRWZXJzaW9uLAogICAgICAgICAgICBwbGFuQnVzaW5lc3M6IF90aGlzLmZvcm0ucGxhbkJ1c2luZXNzLAogICAgICAgICAgICBwbGFuU3RhcnQ6IF90aGlzLmZvcm0ucGxhblN0YXJ0LmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpLAogICAgICAgICAgICBwbGFuRW5kOiBfdGhpcy5mb3JtLnBsYW5FbmQuZm9ybWF0KCJZWVlZLU1NLUREIEhIOm1tOnNzIikKICAgICAgICAgIH07CiAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgdXJsOiAiL2FwaS9wbGFuL2NyZWF0ZXBsYW4iLAogICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgZGF0YTogZGF0YUZvcm0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMzAwMDAwKSB7CiAgICAgICAgICAgICAgX21lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIOiuoeWIkuWIm+W7uuaIkOWKn++8jOWbnuiwg+e7meeItue7hOS7tgogICAgICAgICAgICAgICAqLwoKCiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoImNyZWF0ZWRQbGFuIiwgcmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfbWVzc2FnZS53YXJuaW5nKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTZWxlY3RlZDogIi5jb25jYXQodmFsdWUpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["createplan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <a-page-header title=\"创建计划\" sub-title=\"没有在运行中的回归计划\">\n      <template slot=\"tags\">\n        <a-tag color=\"brown\">\n          未创建\n        </a-tag>\n      </template>\n      <template slot=\"extra\">\n        <a-button key=\"3\">\n          历史计划\n        </a-button>\n      </template>\n    </a-page-header>\n\n    <a-row :gutter=\"8\">\n      <a-col :span=\"10\">\n        <a-form-model\n          ref=\"ruleForm\"\n          :model=\"form\"\n          :rules=\"rules\"\n          :label-col=\"labelCol\"\n          :wrapper-col=\"wrapperCol\"\n          style=\"width:500px;padding: 20px;\"\n        >\n          <a-form-model-item\n            ref=\"clientVersion\"\n            label=\"测试版本\"\n            prop=\"clientVersion\"\n          >\n            <a-input\n              v-model=\"form.clientVersion\"\n              @blur=\"\n                () => {\n                  $refs.clientVersion.onFieldBlur();\n                }\n              \"\n            />\n          </a-form-model-item>\n\n          <a-form-model-item label=\"业务范围\" prop=\"planBusiness\">\n            <a-select\n              mode=\"tags\"\n              v-model=\"form.planBusiness\"\n              placeholder=\"请选择本次计划覆盖业务\"\n              @change=\"handleChange\"\n            >\n              <a-select-option value=\"Content\">\n                内容&会员\n              </a-select-option>\n              <a-select-option value=\"Other\">\n                其他\n              </a-select-option>\n            </a-select>\n          </a-form-model-item>\n\n          <a-form-model-item label=\"开始时间\" prop=\"planStart\">\n            <a-date-picker\n              v-model=\"form.planStart\"\n              show-time\n              type=\"date\"\n              placeholder=\"请选择开始时间\"\n              style=\"width: 100%;\"\n            />\n          </a-form-model-item>\n\n          <a-form-model-item label=\"结束时间\" prop=\"planEnd\">\n            <a-date-picker\n              v-model=\"form.planEnd\"\n              show-time\n              type=\"date\"\n              placeholder=\"请选择结束时间\"\n              style=\"width: 100%;\"\n            />\n          </a-form-model-item>\n\n          <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\n            <a-button type=\"primary\" @click=\"onSubmit\">\n              创建计划\n            </a-button>\n            <a-button style=\"margin-left: 10px;\" @click=\"resetForm\">\n              重置数据\n            </a-button>\n          </a-form-model-item>\n        </a-form-model>\n      </a-col>\n      <a-col :span=\"14\">\n        <a-card title=\"创建说明\" style=\"width: 500px;margin-left:10px;\">\n          <div>\n            <h4>测试版本</h4>\n            输入本次匹配上传的版本号，如iOS回归包，版本为6.69.0-test;Android为6.69.0-beta，则填写6.69.0即可。\n          </div>\n          <br />\n          <div>\n            <h4>业务范围</h4>\n            选择相关业务模块，则本次计划会覆盖业务模块下所有接口\n          </div>\n          <br />\n          <div>\n            <h4>开始/结束时间</h4>\n            选择开始/结束时间，则本次计划会在此时间段内做覆盖采集\n          </div>\n        </a-card>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport { message } from \"ant-design-vue\";\n\nexport default {\n  data() {\n    return {\n      sonVisible: false,\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      form: {\n        clientVersion: \"\",\n        planBusiness: [],\n        planStart: \"\",\n        planEnd: \"\"\n      },\n      rules: {\n        clientVersion: [\n          {\n            required: true,\n            message: \"请输入本次回归计划版本\",\n            trigger: \"blur\"\n          },\n          {\n            min: 3,\n            max: 10,\n            message: \"计划版本为3～10个字符长度\",\n            trigger: \"blur\"\n          }\n        ],\n        planBusiness: [\n          {\n            required: true,\n            message: \"请选择所属业务\",\n            trigger: \"change\",\n            type: \"array\"\n          }\n        ],\n        planStart: [\n          { required: true, message: \"请选择计划开始时间\", trigger: \"change\" }\n        ],\n        planEnd: [\n          { required: true, message: \"请选择计划结束时间\", trigger: \"change\" }\n        ]\n      }\n    };\n  },\n  // 这里要使用一个监听属性，检测父属性visible的变化\n  watch: {\n    visible() {\n      this.sonVisible = this.visible;\n    },\n    nowColumns() {\n      this.form.interfacePath = this.nowColumns.interfacePath;\n      this.form.interfaceRegular = this.nowColumns.interfaceRegular;\n      this.form.belongBusiness = this.nowColumns.content;\n      this.form.interfaceDesc = this.nowColumns.interfaceDesc;\n    }\n  },\n  props: [\"visible\", \"nowColumns\"],\n  methods: {\n    onSubmit() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          const dataForm = {\n            clientVersion: this.form.clientVersion,\n            planBusiness: this.form.planBusiness,\n            planStart: this.form.planStart.format(\"YYYY-MM-DD HH:mm:ss\"),\n            planEnd: this.form.planEnd.format(\"YYYY-MM-DD HH:mm:ss\")\n          };\n          request({\n            url: \"/api/plan/createplan\",\n            method: \"POST\",\n            data: dataForm\n          }).then(res => {\n            if (res.data.code === 300000) {\n              message.success(res.data.msg);\n              /**\n               * 计划创建成功，回调给父组件\n               */\n              this.$emit(\"createdPlan\", res.data.msg);\n            } else {\n              message.warning(res.data.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm() {\n      this.$refs.ruleForm.resetFields();\n    },\n    handleChange(value) {\n      console.log(`Selected: ${value}`);\n    }\n  }\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/components/testplan"}]}