{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/eslint-loader/index.js??ref--13-0!/Users/shenxh/Desktop/qa_auto_test/src/store/modules/mitmproxy.js","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/store/modules/mitmproxy.js","mtime":1605431388659},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnQtZGVzaWduLXZ1ZS9lcy9ub3RpZmljYXRpb24vc3R5bGUiOwppbXBvcnQgX25vdGlmaWNhdGlvbiBmcm9tICJhbnQtZGVzaWduLXZ1ZS9lcy9ub3RpZmljYXRpb24iOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvc2hlbnhoL0Rlc2t0b3AvcWFfYXV0b190ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NoZW54aC9EZXNrdG9wL3FhX2F1dG9fdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CnZhciBtaXRtcHJveHkgPSB7CiAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgcmV0dXJuIEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibWl0bXByb3h5IikpIHx8IHsKICAgICAgcG9ydDogJycsCiAgICAgIGhvc3RfbGlzdDogJycsCiAgICAgIG1pdG1faWQ6ICcnLAogICAgICBleHBpcmVfdGltZTogJycKICAgIH07CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNhdmVVc2VyTWl0bXByb3h5OiBmdW5jdGlvbiBzYXZlVXNlck1pdG1wcm94eShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJtaXRtcHJveHkiLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CiAgICAgIHN0YXRlLnBvcnQgPSBwYXlsb2FkLnBvcnQ7CiAgICAgIHN0YXRlLmhvc3RfbGlzdCA9IHBheWxvYWQuaG9zdF9saXN0LCBzdGF0ZS5taXRtX2lkID0gcGF5bG9hZC5taXRtX2lkLCBzdGF0ZS5leHBpcmVfdGltZSA9IHBheWxvYWQuZXhwaXJlX3RpbWU7CiAgICB9LAogICAgLy8g5riF6Zmk55So5oi3bWl0bXByb3h5CiAgICByZW1vdmVVc2VyTWl0bXByb3h5OiBmdW5jdGlvbiByZW1vdmVVc2VyTWl0bXByb3h5KCkgewogICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJtaXRtcHJveHkiKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldFVzZXJNaXRtcHJveHk6IGZ1bmN0aW9uIGdldFVzZXJNaXRtcHJveHkoX3JlZikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCBoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgaCA9IF90aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgIHVybDogIi9hcGkvdGVtcGludGVyL3F1ZXJ5dXNlcnNvY2tldCIsCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIzMDAwMCkgewogICAgICAgICAgICAgICAgICAgIC8vIOivpeeUqOaIt+acieWvueW6lOerr+WPo+WPtyDmk43kvZzliJ3lp4vljJYKICAgICAgICAgICAgICAgICAgICBjb21taXQoJ3NhdmVVc2VyTWl0bXByb3h5JywgX29iamVjdFNwcmVhZCh7fSwgcmVzLmRhdGEuZGF0YSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAyMzAwMDA7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjMwMDAyKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5rKh5pyJ5a+55bqU56uv5Y+j5Y+3IOWxleekuuWvueW6lOWIm+W7uue7hOS7tgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlsZXnpLrlr7nlupTliJvlu7rnu4Tku7YiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjMwMDAyOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF9ub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UoaCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWyJcdTY3RTVcdThCRTJcdTk1MTlcdThCRUY6ICIsIGgoInNwYW4iLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgInN0eWxlIjogImNvbG9yOiByZWQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtyZXMuZGF0YS5tc2ddKV0pOwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAi6K+35L2/55So5q2j56Gu55qE6K+35rGC5pa55byP77yBIgogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZVVzZXJJbmZvOiBmdW5jdGlvbiBzYXZlVXNlckluZm8oX3JlZjIsIGRhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdzYXZlVXNlck1pdG1wcm94eScsIGRhdGEpOwogICAgfSwKICAgIGRlbGV0ZVVzZXJNaXRtcHJveHk6IGZ1bmN0aW9uIGRlbGV0ZVVzZXJNaXRtcHJveHkoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCdyZW1vdmVVc2VyTWl0bXByb3h5Jyk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBtaXRtcHJveHk7"},{"version":3,"sources":["/Users/shenxh/Desktop/qa_auto_test/src/store/modules/mitmproxy.js"],"names":["request","mitmproxy","state","JSON","parse","sessionStorage","getItem","port","host_list","mitm_id","expire_time","mutations","saveUserMitmproxy","payload","setItem","stringify","removeUserMitmproxy","removeItem","actions","getUserMitmproxy","commit","url","method","then","res","data","code","console","log","error","message","h","msg","description","saveUserInfo","deleteUserMitmproxy"],"mappings":";;;;;AAEA,OAAOA,OAAP,MAAoB,iBAApB;AAIA,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE;AAAA,WAAOC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAX,KAAkD;AAC5DC,MAAAA,IAAI,EAAE,EADsD;AAE5DC,MAAAA,SAAS,EAAE,EAFiD;AAG5DC,MAAAA,OAAO,EAAE,EAHmD;AAI5DC,MAAAA,WAAW,EAAE;AAJ+C,KAAzD;AAAA,GADO;AAQdC,EAAAA,SAAS,EAAE;AACPC,IAAAA,iBADO,6BACWV,KADX,EACkBW,OADlB,EAC0B;AAC7BR,MAAAA,cAAc,CAACS,OAAf,CAAuB,WAAvB,EAAmCX,IAAI,CAACY,SAAL,CAAeF,OAAf,CAAnC;AACAX,MAAAA,KAAK,CAACK,IAAN,GAAaM,OAAO,CAACN,IAArB;AACAL,MAAAA,KAAK,CAACM,SAAN,GAAkBK,OAAO,CAACL,SAA1B,EACAN,KAAK,CAACO,OAAN,GAAgBI,OAAO,CAACJ,OADxB,EAEAP,KAAK,CAACQ,WAAN,GAAoBG,OAAO,CAACH,WAF5B;AAGH,KAPM;AAQP;AACAM,IAAAA,mBATO,iCASc;AACjBX,MAAAA,cAAc,CAACY,UAAf,CAA0B,WAA1B;AACH;AAXM,GARG;AAsBdC,EAAAA,OAAO,EAAE;AACCC,IAAAA,gBADD,kCAC2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAARC,gBAAAA,MAAQ,QAARA,MAAQ;AAAA;AAAA;AAAA,uBACtBpB,OAAO,CAAC;AACVqB,kBAAAA,GAAG,EAAE,gCADK;AAEVC,kBAAAA,MAAM,EAAE;AAFE,iBAAD,CAAP,CAGHC,IAHG,CAGE,UAAAC,GAAG,EAAI;AACX,sBAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,MAAtB,EAA8B;AAC5B;AACAN,oBAAAA,MAAM,CAAC,mBAAD,oBAA0BI,GAAG,CAACC,IAAJ,CAASA,IAAnC,EAAN;AACA,2BAAO,MAAP;AACD,mBAJD,MAIM,IAAID,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,MAAtB,EAA6B;AACjC;AACAC,oBAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,2BAAO,MAAP;AACD,mBAJK,MAIA;AACF,kCAAaC,KAAb,CAAmB;AACf;AACAC,sBAAAA,OAAO,EAAE,iBAAAC,CAAC;AAAA;AAAA,mCAEY;AAFZ,4BAE0BP,GAAG,CAACC,IAAJ,CAASO,GAFnC;AAAA,uBAFK;AAOfC,sBAAAA,WAAW,EAAE;AAPE,qBAAnB;;AASA,2BAAO,CAAC,CAAR;AACH;AACJ,iBAxBK,CADsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B/B,KA3BI;AA4BLC,IAAAA,YA5BK,+BA4BoBT,IA5BpB,EA4ByB;AAAA,UAAfL,MAAe,SAAfA,MAAe;AAC1BA,MAAAA,MAAM,CAAC,mBAAD,EAAsBK,IAAtB,CAAN;AACH,KA9BI;AA+BLU,IAAAA,mBA/BK,sCA+B0B;AAAA,UAATf,MAAS,SAATA,MAAS;AAC3BA,MAAAA,MAAM,CAAC,qBAAD,CAAN;AACH;AAjCI;AAtBK,CAAlB;AA4DA,eAAenB,SAAf","sourcesContent":["\n\nimport request from '@/utils/request'\nimport {notification} from \"ant-design-vue\";\n\n\nconst mitmproxy = {\n    state: () => (JSON.parse(sessionStorage.getItem(\"mitmproxy\"))|| {\n        port: '',\n        host_list: '',\n        mitm_id: '',\n        expire_time: '',\n    }),\n\n    mutations: {\n        saveUserMitmproxy(state, payload){\n            sessionStorage.setItem(\"mitmproxy\",JSON.stringify(payload));\n            state.port = payload.port\n            state.host_list = payload.host_list,\n            state.mitm_id = payload.mitm_id,\n            state.expire_time = payload.expire_time\n        },\n        // 清除用户mitmproxy\n        removeUserMitmproxy(){\n            sessionStorage.removeItem(\"mitmproxy\");\n        }\n    },\n\n    actions: {\n        async getUserMitmproxy({commit}){\n            await request({\n                url: \"/api/tempinter/queryusersocket\",\n                method: \"POST\",\n            }).then(res => {\n                if (res.data.code === 230000) {\n                  // 该用户有对应端口号 操作初始化\n                  commit('saveUserMitmproxy', {...res.data.data});\n                  return 230000\n                }else if (res.data.code === 230002){\n                  // 没有对应端口号 展示对应创建组件\n                  console.log(\"展示对应创建组件\");\n                  return 230002\n                }else {\n                    notification.error({\n                        //eslint-disable-next-line no-unused-vars\n                        message: h => (\n                            <div>\n                            查询错误: <span style=\"color: red\">{res.data.msg}</span>\n                            </div>\n                        ),\n                        description: \"请使用正确的请求方式！\",\n                    });\n                    return -1\n                }\n            });\n        },\n        saveUserInfo({ commit }, data){\n            commit('saveUserMitmproxy', data)\n        },\n        deleteUserMitmproxy({ commit }){\n            commit('removeUserMitmproxy')\n        }\n    }\n}\n\n\nexport default mitmproxy;"]}]}