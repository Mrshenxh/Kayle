{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/thread-loader/dist/cjs.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/uploadmodal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/uploadmodal.vue","mtime":1609398380406},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnQtZGVzaWduLXZ1ZS9lcy9tZXNzYWdlL3N0eWxlIjsKaW1wb3J0IF9tZXNzYWdlIGZyb20gImFudC1kZXNpZ24tdnVlL2VzL21lc3NhZ2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvc2hlbnhoL0Rlc2t0b3AvcWFfYXV0b190ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKLy8g5qC45b+D5o6l5Y+j5LiK5LygbW9kYWwKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAvKioKICAgICAqIHNvblZpc2libGU6IOW8ueeql+aYr+WQpuWPr+ingQogICAgICogbGFiZWxDb2zvvIx3cmFwcGVyQ29sOiDmr4/kuIDkuKpJdGVt5omA5Y2g6ZW/5bqm5q+U5L6L5YiG5biDCiAgICAgKiBmb3JtOiDooajljZXmlbDmja4KICAgICAqIHJ1bGVzOiDooajljZXmoKHpqozop4TliJkKICAgICAqLwogICAgcmV0dXJuIHsKICAgICAgc29uVmlzaWJsZTogZmFsc2UsCiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgc3BhbjogNAogICAgICB9LAogICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgc3BhbjogMTQKICAgICAgfSwKICAgICAgZm9ybTogewogICAgICAgIGludGVyZmFjZVBhdGg6ICIiLAogICAgICAgIGludGVyZmFjZVJlZ3VsYXI6ICIiLAogICAgICAgIGJlbG9uZ0J1c2luZXNzOiB1bmRlZmluZWQsCiAgICAgICAgaW50ZXJmYWNlRGVzYzogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBpbnRlcmZhY2VQYXRoOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5o6l5Y+j6Lev5b6EIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtYXg6IDIwMCwKICAgICAgICAgIG1lc3NhZ2U6ICLmjqXlj6Pot6/lvoTpmZDliLblnKgxMO+9njIwMOS4quWtl+espiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBpbnRlcmZhY2VSZWd1bGFyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5o6l5Y+j5Yy56YWN5q2j5YiZIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICBtYXg6IDIwMCwKICAgICAgICAgIG1lc3NhZ2U6ICLmjqXlj6PljLnphY3mraPliJnpmZDliLblnKg1772eMTAw5Liq5a2X56ymIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJlbG9uZ0J1c2luZXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup5o6l5Y+j5omA5bGe5Lia5Yqh57q/IiwKICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgfV0sCiAgICAgICAgaW50ZXJmYWNlRGVzYzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaOpeWPo+aPj+i/sOS/oeaBryIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IFsidmlzaWJsZSIsICJub3dDb2x1bW5zIl0sCiAgLy8g6L+Z6YeM6KaB5L2/55So5LiA5Liq55uR5ZCs5bGe5oCn77yM5qOA5rWL54i25bGe5oCndmlzaWJsZeeahOWPmOWMlgogIHdhdGNoOiB7CiAgICB2aXNpYmxlOiBmdW5jdGlvbiB2aXNpYmxlKCkgewogICAgICB0aGlzLnNvblZpc2libGUgPSB0aGlzLnZpc2libGU7CiAgICB9LAogICAgbm93Q29sdW1uczogZnVuY3Rpb24gbm93Q29sdW1ucygpIHsKICAgICAgdGhpcy5mb3JtLmludGVyZmFjZVBhdGggPSB0aGlzLm5vd0NvbHVtbnMuaW50ZXJmYWNlUGF0aDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogaGFuZGxlVXBsb2FkOiDkuIrkvKDmjqXlj6MKICAgICAqIGhhbmRsZUNhbmNlbDog54K55Ye75Y+W5raI6K+35rGC5o6l5Y+jCiAgICAgKiByZXNldEZvcm06IOmHjee9rmZvcm3ooajljZXmlbDmja4KICAgICAqLwogICAgaGFuZGxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWQoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgdmFsdWVzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5ub3dDb2x1bW5zKSwgX3RoaXMuZm9ybSk7CgogICAgICAgICAgcmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogIi9hcGkvdGVtcGludGVyL3VwbG9hZGNvcmVpbnRlciIsCiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICBkYXRhOiB2YWx1ZXMKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwMDAwKSB7CiAgICAgICAgICAgICAgX21lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMDAwMikgewogICAgICAgICAgICAgIF9tZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX21lc3NhZ2UuZXJyb3IoIuacquefpemUmeivr++8jOacjeWKoeerr+WPkeeUn+W8guW4uCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVVwbG9hZFBvcCIsIGZhbHNlKTsKICAgIH0sCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbChlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VVcGxvYWRQb3AiLCBmYWxzZSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMucnVsZUZvcm0ucmVzZXRGaWVsZHMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["uploadmodal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <a-modal\n      v-model=\"sonVisible\"\n      title=\"核心接口上传\"\n      @ok=\"handleUpload\"\n      okText=\"确认上传\"\n      @cancel=\"handleCancel\"\n      cancelText=\"取消上传\"\n    >\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item\n          ref=\"interfacePath\"\n          label=\"接口名称\"\n          prop=\"interfacePath\"\n        >\n          <a-input\n            v-model=\"form.interfacePath\"\n            @blur=\"\n              () => {\n                $refs.interfacePath.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n\n        <a-form-model-item\n          ref=\"interfaceRegular\"\n          label=\"匹配正则\"\n          prop=\"interfaceRegular\"\n        >\n          <a-input\n            v-model=\"form.interfaceRegular\"\n            @blur=\"\n              () => {\n                $refs.interfaceRegular.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n\n        <a-form-model-item label=\"所属业务\" prop=\"belongBusiness\">\n          <a-select\n            v-model=\"form.belongBusiness\"\n            placeholder=\"请选择接口所属业务线\"\n          >\n            <a-select-option value=\"Content\">\n              内容&会员\n            </a-select-option>\n            <a-select-option value=\"Other\">\n              其他\n            </a-select-option>\n          </a-select>\n        </a-form-model-item>\n\n        <a-form-model-item label=\"接口描述\" prop=\"interfaceDesc\">\n          <a-input\n            v-model=\"form.interfaceDesc\"\n            type=\"textarea\"\n            placeholder=\"请输入对接口的描述，如所属功能块\"\n          />\n        </a-form-model-item>\n      </a-form-model>\n      <div>\n        <a-tabs default-active-key=\"1\">\n          <a-tab-pane key=\"1\" tab=\"请求Header\">\n            <json-viewer\n              :value=\"nowColumns.requestHeader\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"2\" tab=\"请求Data\">\n            <json-viewer\n              :value=\"nowColumns.requestData\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"3\" tab=\"返回Header\" force-render>\n            <json-viewer\n              :value=\"nowColumns.responseHeader\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"4\" tab=\"返回Response\">\n            <json-viewer\n              :value=\"nowColumns.responseData\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n        </a-tabs>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\nimport { message } from \"ant-design-vue\";\n\n// 核心接口上传modal\nexport default {\n  data() {\n    /**\n     * sonVisible: 弹窗是否可见\n     * labelCol，wrapperCol: 每一个Item所占长度比例分布\n     * form: 表单数据\n     * rules: 表单校验规则\n     */\n    return {\n      sonVisible: false,\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      form: {\n        interfacePath: \"\",\n        interfaceRegular: \"\",\n        belongBusiness: undefined,\n        interfaceDesc: \"\"\n      },\n      rules: {\n        interfacePath: [\n          { required: true, message: \"请输入接口路径\", trigger: \"blur\" },\n          {\n            min: 10,\n            max: 200,\n            message: \"接口路径限制在10～200个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        interfaceRegular: [\n          { required: true, message: \"请输入接口匹配正则\", trigger: \"blur\" },\n          {\n            min: 10,\n            max: 200,\n            message: \"接口匹配正则限制在5～100个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        belongBusiness: [\n          { required: true, message: \"请选择接口所属业务线\", trigger: \"change\" }\n        ],\n        interfaceDesc: [\n          { required: true, message: \"请输入接口描述信息\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  props: [\"visible\", \"nowColumns\"],\n  // 这里要使用一个监听属性，检测父属性visible的变化\n  watch: {\n    visible() {\n      this.sonVisible = this.visible;\n    },\n    nowColumns() {\n      this.form.interfacePath = this.nowColumns.interfacePath;\n    }\n  },\n  methods: {\n    /**\n     * handleUpload: 上传接口\n     * handleCancel: 点击取消请求接口\n     * resetForm: 重置form表单数据\n     */\n    handleUpload(e) {\n      console.log(e);\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          const values = {\n            ...this.nowColumns,\n            ...this.form\n          };\n          request({\n            url: \"/api/tempinter/uploadcoreinter\",\n            method: \"POST\",\n            data: values\n          }).then(res => {\n            if (res.data.code === 200000) {\n              message.success(res.data.msg);\n            } else if (res.data.code === 200002) {\n              message.error(res.data.msg);\n            } else {\n              message.error(\"未知错误，服务端发生异常\");\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n      this.$emit(\"changeUploadPop\", false);\n    },\n    handleCancel(e) {\n      console.log(e);\n      this.$emit(\"changeUploadPop\", false);\n    },\n\n    resetForm() {\n      this.$refs.ruleForm.resetFields();\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components/modulelist"}]}