{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js!/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/uploadmodal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/uploadmodal.vue","mtime":1611912960088},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnQtZGVzaWduLXZ1ZS9lcy9tZXNzYWdlL3N0eWxlIjsKaW1wb3J0IF9tZXNzYWdlIGZyb20gImFudC1kZXNpZ24tdnVlL2VzL21lc3NhZ2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvc2hlbnhoL0Rlc2t0b3AvcWFfYXV0b190ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IHsgYmVsb25nQnVzaW5lc3MgfSBmcm9tICJAL3V0aWxzL2NvbW1vbmNvbmZpZyI7IC8vIOaguOW/g+aOpeWPo+S4iuS8oG1vZGFsCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8qKgogICAgICogc29uVmlzaWJsZTog5by556qX5piv5ZCm5Y+v6KeBCiAgICAgKiBsYWJlbENvbO+8jHdyYXBwZXJDb2w6IOavj+S4gOS4qkl0ZW3miYDljaDplb/luqbmr5TkvovliIbluIMKICAgICAqIGZvcm06IOihqOWNleaVsOaNrgogICAgICogcnVsZXM6IOihqOWNleagoemqjOinhOWImQogICAgICovCiAgICByZXR1cm4gewogICAgICBzb25WaXNpYmxlOiBmYWxzZSwKICAgICAgbGFiZWxDb2w6IHsKICAgICAgICBzcGFuOiA0CiAgICAgIH0sCiAgICAgIHdyYXBwZXJDb2w6IHsKICAgICAgICBzcGFuOiAxNAogICAgICB9LAogICAgICBiZWxvbmdCdXNpbmVzczogYmVsb25nQnVzaW5lc3MsCiAgICAgIGZvcm06IHsKICAgICAgICBpbnRlcmZhY2VQYXRoOiAiIiwKICAgICAgICBpbnRlcmZhY2VSZWd1bGFyOiAiIiwKICAgICAgICBiZWxvbmdCdXNpbmVzczogdW5kZWZpbmVkLAogICAgICAgIGludGVyZmFjZURlc2M6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaW50ZXJmYWNlUGF0aDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaOpeWPo+i3r+W+hCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEwLAogICAgICAgICAgbWF4OiAyMDAsCiAgICAgICAgICBtZXNzYWdlOiAi5o6l5Y+j6Lev5b6E6ZmQ5Yi25ZyoMTDvvZ4yMDDkuKrlrZfnrKYiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgaW50ZXJmYWNlUmVndWxhcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeaOpeWPo+WMuemFjeato+WImSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDEwLAogICAgICAgICAgbWF4OiAyMDAsCiAgICAgICAgICBtZXNzYWdlOiAi5o6l5Y+j5Yy56YWN5q2j5YiZ6ZmQ5Yi25ZyoNe+9njEwMOS4quWtl+espiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBiZWxvbmdCdXNpbmVzczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaOpeWPo+aJgOWxnuS4muWKoee6vyIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIGludGVyZmFjZURlc2M6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmjqXlj6Pmj4/ov7Dkv6Hmga8iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiBbInZpc2libGUiLCAibm93Q29sdW1ucyJdLAogIC8vIOi/memHjOimgeS9v+eUqOS4gOS4quebkeWQrOWxnuaAp++8jOajgOa1i+eItuWxnuaAp3Zpc2libGXnmoTlj5jljJYKICB3YXRjaDogewogICAgdmlzaWJsZTogZnVuY3Rpb24gdmlzaWJsZSgpIHsKICAgICAgdGhpcy5zb25WaXNpYmxlID0gdGhpcy52aXNpYmxlOwogICAgfSwKICAgIG5vd0NvbHVtbnM6IGZ1bmN0aW9uIG5vd0NvbHVtbnMoKSB7CiAgICAgIHRoaXMuZm9ybS5pbnRlcmZhY2VQYXRoID0gdGhpcy5ub3dDb2x1bW5zLmludGVyZmFjZVBhdGg7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIGhhbmRsZVVwbG9hZDog5LiK5Lyg5o6l5Y+jCiAgICAgKiBoYW5kbGVDYW5jZWw6IOeCueWHu+WPlua2iOivt+axguaOpeWPowogICAgICogcmVzZXRGb3JtOiDph43nva5mb3Jt6KGo5Y2V5pWw5o2uCiAgICAgKi8KICAgIGhhbmRsZVVwbG9hZDogZnVuY3Rpb24gaGFuZGxlVXBsb2FkKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIHZhbHVlcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMubm93Q29sdW1ucyksIF90aGlzLmZvcm0pOwoKICAgICAgICAgIHJlcXVlc3QoewogICAgICAgICAgICB1cmw6ICIvYXBpL3RlbXBpbnRlci91cGxvYWRjb3JlaW50ZXIiLAogICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgZGF0YTogdmFsdWVzCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMDAwMCkgewogICAgICAgICAgICAgIF9tZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDAwMDIpIHsKICAgICAgICAgICAgICBfbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF9tZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlVXBsb2FkUG9wIiwgZmFsc2UpOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVVwbG9hZFBvcCIsIGZhbHNlKTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS5yZXNldEZpZWxkcygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["uploadmodal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <a-modal\n      v-model=\"sonVisible\"\n      title=\"核心接口上传\"\n      @ok=\"handleUpload\"\n      okText=\"确认上传\"\n      @cancel=\"handleCancel\"\n      cancelText=\"取消上传\"\n    >\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item\n          ref=\"interfacePath\"\n          label=\"接口名称\"\n          prop=\"interfacePath\"\n        >\n          <a-input\n            v-model=\"form.interfacePath\"\n            @blur=\"\n              () => {\n                $refs.interfacePath.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n\n        <a-form-model-item\n          ref=\"interfaceRegular\"\n          label=\"匹配正则\"\n          prop=\"interfaceRegular\"\n        >\n          <a-input\n            v-model=\"form.interfaceRegular\"\n            @blur=\"\n              () => {\n                $refs.interfaceRegular.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n\n        <a-form-model-item label=\"所属业务\" prop=\"belongBusiness\">\n          <a-select\n            v-model=\"form.belongBusiness\"\n            placeholder=\"请选择接口所属业务线\"\n          >\n            <a-select-option\n              v-for=\"(item, index) in belongBusiness\"\n              :key=\"index\"\n              :value=\"item.busValue\"\n            >\n              {{ item.busName }}\n            </a-select-option>\n          </a-select>\n        </a-form-model-item>\n\n        <a-form-model-item label=\"接口描述\" prop=\"interfaceDesc\">\n          <a-input\n            v-model=\"form.interfaceDesc\"\n            type=\"textarea\"\n            placeholder=\"请输入对接口的描述，如所属功能块\"\n          />\n        </a-form-model-item>\n      </a-form-model>\n      <div>\n        <a-tabs default-active-key=\"1\">\n          <a-tab-pane key=\"1\" tab=\"请求Header\">\n            <json-viewer\n              :value=\"nowColumns.requestHeader\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"2\" tab=\"请求Data\">\n            <json-viewer\n              :value=\"nowColumns.requestData\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"3\" tab=\"返回Header\" force-render>\n            <json-viewer\n              :value=\"nowColumns.responseHeader\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n          <a-tab-pane key=\"4\" tab=\"返回Response\">\n            <json-viewer\n              :value=\"nowColumns.responseData\"\n              copyable\n              boxed\n              sort\n            ></json-viewer>\n          </a-tab-pane>\n        </a-tabs>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\nimport { message } from \"ant-design-vue\";\nimport { belongBusiness } from \"@/utils/commonconfig\";\n\n// 核心接口上传modal\nexport default {\n  data() {\n    /**\n     * sonVisible: 弹窗是否可见\n     * labelCol，wrapperCol: 每一个Item所占长度比例分布\n     * form: 表单数据\n     * rules: 表单校验规则\n     */\n    return {\n      sonVisible: false,\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      belongBusiness: belongBusiness,\n      form: {\n        interfacePath: \"\",\n        interfaceRegular: \"\",\n        belongBusiness: undefined,\n        interfaceDesc: \"\"\n      },\n      rules: {\n        interfacePath: [\n          { required: true, message: \"请输入接口路径\", trigger: \"blur\" },\n          {\n            min: 10,\n            max: 200,\n            message: \"接口路径限制在10～200个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        interfaceRegular: [\n          { required: true, message: \"请输入接口匹配正则\", trigger: \"blur\" },\n          {\n            min: 10,\n            max: 200,\n            message: \"接口匹配正则限制在5～100个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        belongBusiness: [\n          { required: true, message: \"请选择接口所属业务线\", trigger: \"change\" }\n        ],\n        interfaceDesc: [\n          { required: true, message: \"请输入接口描述信息\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  props: [\"visible\", \"nowColumns\"],\n  // 这里要使用一个监听属性，检测父属性visible的变化\n  watch: {\n    visible() {\n      this.sonVisible = this.visible;\n    },\n    nowColumns() {\n      this.form.interfacePath = this.nowColumns.interfacePath;\n    }\n  },\n  methods: {\n    /**\n     * handleUpload: 上传接口\n     * handleCancel: 点击取消请求接口\n     * resetForm: 重置form表单数据\n     */\n    handleUpload(e) {\n      console.log(e);\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          const values = {\n            ...this.nowColumns,\n            ...this.form\n          };\n          request({\n            url: \"/api/tempinter/uploadcoreinter\",\n            method: \"POST\",\n            data: values\n          }).then(res => {\n            if (res.data.code === 200000) {\n              message.success(res.data.msg);\n            } else if (res.data.code === 200002) {\n              message.error(res.data.msg);\n            } else {\n              message.error(res.data.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n      this.$emit(\"changeUploadPop\", false);\n    },\n    handleCancel(e) {\n      console.log(e);\n      this.$emit(\"changeUploadPop\", false);\n    },\n\n    resetForm() {\n      this.$refs.ruleForm.resetFields();\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components/modulelist"}]}