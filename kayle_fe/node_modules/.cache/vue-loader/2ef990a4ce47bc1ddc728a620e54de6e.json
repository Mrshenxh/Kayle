{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/views/interface/transcribe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/views/interface/transcribe.vue","mtime":1612512965540},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOW9leWItuS4iuS8oOmhtemdogoKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IGNyZWF0ZW1pdG0gZnJvbSAiQC9jb21wb25lbnRzL21vZHVsZWxpc3QvY3JlYXRlbWl0bSI7CmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICJhbnQtZGVzaWduLXZ1ZSI7CmltcG9ydCBkcmFnZ2FibGUgZnJvbSAiQC9jb21wb25lbnRzL21vZHVsZWxpc3QvZHJhZ2dhYmxlIjsKaW1wb3J0IHsgaG9zdElwIH0gZnJvbSAiQC91dGlscy9jb21tb25jb25maWciOwoKY29uc3QgY29sdW1ucyA9IFsKICB7CiAgICB0aXRsZTogIuaOpeWPo3BhdGgiLAogICAgd2lkdGg6IDM1MCwKICAgIGRhdGFJbmRleDogImludGVyZmFjZVBhdGgiLAogICAga2V5OiAiaW50ZXJmYWNlUGF0aCIsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbnRlcmZhY2UtcGF0aCIgfQogIH0sCiAgewogICAgdGl0bGU6ICLor7fmsYLmlrnlvI8iLAogICAgd2lkdGg6IDEwMCwKICAgIGRhdGFJbmRleDogInJlcXVlc3RNZXRob2QiLAogICAga2V5OiAicmVxdWVzdE1ldGhvZCIKICB9LAogIHsKICAgIHRpdGxlOiAi6K+35rGC5pWw5o2uIiwKICAgIGRhdGFJbmRleDogInJlcXVlc3REYXRhIiwKICAgIGtleTogInJlcXVlc3REYXRhIiwKICAgIHdpZHRoOiAzMDAsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJyZXF1ZXN0LWRhdGEiIH0KICB9LAogIC8vIHsgdGl0bGU6ICfor7fmsYJIZWFkZXInLCBkYXRhSW5kZXg6ICdyZXF1ZXN0SGVhZGVyJywga2V5OiAncmVxdWVzdEhlYWRlcicsIHdpZHRoOiAyMDAgLCBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdyZXF1ZXN0LWhlYWRlcicsfSx9LAogIC8vIHsgdGl0bGU6ICfor7fmsYLogJfml7YnLCBkYXRhSW5kZXg6ICdyZXF1ZXN0VGltZScsIGtleTogJzMnLCB3aWR0aDogMTAwIH0sCiAgLy8gewogIC8vICAgdGl0bGU6ICJTdGF0dXMiLAogIC8vICAgZGF0YUluZGV4OiAicmVzcG9uc2VTdGF0dXMiLAogIC8vICAga2V5OiAicmVzcG9uc2VTdGF0dXMiLAogIC8vICAgd2lkdGg6IDEwMAogIC8vIH0sCiAgLy8geyB0aXRsZTogJ+i/lOWbnkhlYWRlcicsIGRhdGFJbmRleDogJ3Jlc3BvbnNlSGVhZGVyJywga2V5OiAncmVzcG9uc2VIZWFkZXInLCB3aWR0aDogMjAwICwgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAncmVzcG9uc2UtaGVhZGVyJyx9LH0sCiAgewogICAgdGl0bGU6ICLov5Tlm55EYXRhIiwKICAgIGRhdGFJbmRleDogInJlc3BvbnNlRGF0YSIsCiAgICBrZXk6ICJyZXNwb25zZURhdGEiLAogICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAicmVzcG9uc2UtZGF0YSIgfQogIH0sCiAgLy8geyB0aXRsZTogJ+ivt+axglNpemUnLCBkYXRhSW5kZXg6ICdyZXF1ZXN0U2l6ZScsIGtleTogJzcnLCB3aWR0aDogMTAwIH0sCiAgLy8geyB0aXRsZTogJ+i/lOWbnlNpemUnLCBkYXRhSW5kZXg6ICdyZXNwb25zZVNpemUnLCBrZXk6ICc4JyB9LAogIHsKICAgIHRpdGxlOiAiQWN0aW9uIiwKICAgIGtleTogIm9wZXJhdGlvbiIsCiAgICBmaXhlZDogInJpZ2h0IiwKICAgIHdpZHRoOiAxMDAsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJhY3Rpb24iIH0KICB9Cl07Cgpjb25zdCByb3dTZWxlY3Rpb24gPSB7CiAgb25DaGFuZ2U6IChzZWxlY3RlZFJvd0tleXMsIHNlbGVjdGVkUm93cykgPT4gewogICAgY29uc29sZS5sb2coCiAgICAgIGBzZWxlY3RlZFJvd0tleXM6ICR7c2VsZWN0ZWRSb3dLZXlzfWAsCiAgICAgICJzZWxlY3RlZFJvd3M6ICIsCiAgICAgIHNlbGVjdGVkUm93cwogICAgKTsKICB9LAogIG9uU2VsZWN0OiAocmVjb3JkLCBzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzKSA9PiB7CiAgICBjb25zb2xlLmxvZyhyZWNvcmQsIHNlbGVjdGVkLCBzZWxlY3RlZFJvd3MpOwogIH0sCiAgb25TZWxlY3RBbGw6IChzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKSA9PiB7CiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKTsKICB9Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsCiAgICAgIGV4cGFuZDogZmFsc2UsCiAgICAgIGZvcm06IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzLCB7IG5hbWU6ICJhZHZhbmNlZF9zZWFyY2giIH0pLAogICAgICBzb2NrZXQ6ICIiLAogICAgICBoYXNfbWl0bXByb3h5OiBmYWxzZSwKICAgICAgY3JlYXRlU2hvdzogdHJ1ZSwKICAgICAgbWl0bV9tZXNzYWdlOiB7fSwKICAgICAgaXNFZGl0ZWQ6IGZhbHNlLAogICAgICBpbmRleDogMCwKICAgICAgc2VsZWN0Q29uZGl0aW9uOiB7fQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGNyZWF0ZW1pdG0sCiAgICBkcmFnZ2FibGUKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kID8gMTEgOiA3OwogICAgfSwKCiAgICAvLyDmt7vliqDnrZvpgIlyb3fnm7jlhbPnrZbnlaUKICAgIHJvd1NlbGVjdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNFZGl0ZWQgPyByb3dTZWxlY3Rpb24gOiBudWxsOwogICAgfSwKICAgIC8vIOetm+mAiS/lj5bmtojnrZvpgInmjInpkq7liIfmjaIKICAgIHNjcmVlblRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzRWRpdGVkID8gIuWPlua2iOetm+mAiSIgOiAi562b6YCJIjsKICAgIH0KICB9LAogIHVwZGF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygidXBkYXRlZCIpOwogIH0sCiAgZGVzdHJveWVkKCkgewogICAgaWYgKHRoaXMuc29ja2V0ICE9PSAiIikgewogICAgICAvLyDplIDmr4Hnm5HlkKwKICAgICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IHRoaXMuY2xvc2U7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8g5Zyo5Yib5bu65pe25YCZ5bCx6K+35rGC5p+l6K+i5piv5ZCm5pyJ5a+55bqU55qEcG9ydAogICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUubWl0bXByb3h5KTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgpOwogICAgaWYgKAogICAgICBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJtaXRtcHJveHkiKSAmJgogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5taXRtcHJveHkgIT09IHVuZGVmaW5lZCAmJgogICAgICAicG9ydCIgaW4gdGhpcy4kc3RvcmUuc3RhdGUubWl0bXByb3h5ICYmCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLm1pdG1wcm94eS5wb3J0ICE9PSAiIgogICAgKSB7CiAgICAgIHRoaXMuY3JlYXRlU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmhhc19taXRtcHJveHkgPSB0cnVlOwogICAgICB0aGlzLndlYlNvY2tldEluaXQoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHsgdHlwZTogImdldFVzZXJNaXRtcHJveHkiIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGlmIChyZXMgPT09IDIzMDAwMCkgewogICAgICAgICAgdGhpcy5jcmVhdGVTaG93ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuaGFzX21pdG1wcm94eSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAocmVzID09PSAyMzAwMDIpIHsKICAgICAgICAgIHRoaXMuY3JlYXRlU2hvdyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5oYXNfbWl0bXByb3h5ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMud2ViU29ja2V0SW5pdCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDngrnlh7vmkJzntKLmjInpkq7vvIzop6blj5Hmlrnms5UKICAgIGhhbmRsZVNlYXJjaChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKChlcnJvciwgdmFsdWVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coImVycm9yIiwgZXJyb3IpOwogICAgICAgIGNvbnNvbGUubG9nKCJSZWNlaXZlZCB2YWx1ZXMgb2YgZm9ybTogIiwgdmFsdWVzKTsKICAgICAgICB0aGlzLnNlbGVjdENvbmRpdGlvbiA9IHZhbHVlczsKICAgICAgICB0aGlzLiRyZWZzLmRyYWdnYWJsZS5kYXRhU291cmNlID0gW107CiAgICAgICAgdGhpcy5pbmRleCA9IDA7CiAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCLlt7Lnu4/kuLrmgqjmt7vliqDkuobmjqXlj6PnrZvpgInmnaHku7YiKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5aaC5p6cdXNlcmlk5Li656m677yM5YiZ5omL5Yqo5YaN5qyh6K+35rGC5Lul5LiLCiAgICB3ZWJTb2NrZXRJbml0KCkgewogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICIvYXBpL3VzZXIvbWVzc2FnZSIsCiAgICAgICAgbWV0aG9kOiAiUE9TVCIKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAxMjAwMDApIHsKICAgICAgICAgIHRoaXMuaW5pdCgKICAgICAgICAgICAgIndzOi8vIiArCiAgICAgICAgICAgICAgaG9zdElwICsKICAgICAgICAgICAgICAiL3RlbXBpbnRlci90ZW1wc29ja2V0L2Zsb3cvIiArCiAgICAgICAgICAgICAgcmVzLmRhdGEuZGF0YS51c2VyX2lkCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtZXNzYWdlLmVycm9yKCLml6Dms5Xojrflj5bliLB3ZWJzb2NrZXTov57mjqU6IiArIHJlcy5kYXRhLmNvZGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75riF56m65oyJ6ZKu77yM6Kem5Y+R5pa55rOVCiAgICBoYW5kbGVSZXNldCgpIHsKICAgICAgdGhpcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuc2VsZWN0Q29uZGl0aW9uID0ge307CiAgICAgIG1lc3NhZ2Uuc3VjY2Vzcygi5bey57uP5Li65oKo5Yig6Zmk5LqG5omA5pyJ562b6YCJ5p2h5Lu2Iik7CiAgICB9LAogICAgLy8g5pCc57Si6YCJ6aG55oqY5Y+gCiAgICB0b2dnbGUoKSB7CiAgICAgIHRoaXMuZXhwYW5kID0gIXRoaXMuZXhwYW5kOwogICAgfSwKICAgIC8v54K55Ye75Yig6Zmk5YWo6YOo77yM5riF56m65omA5pyJ6KGo5qC85pWw5o2uCiAgICBjbGVhckFsbERhdGFTb3VyY2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuZHJhZ2dhYmxlLmRhdGFTb3VyY2UgPSBbXTsKICAgICAgdGhpcy5pbmRleCA9IDA7CiAgICB9LAogICAgZ2V0Q3JlYXRlRGF0YShkYXRhKSB7CiAgICAgIC8vIOi/meS4quaXtuWAmee7hOS7tuW3sue7j+WIm+W7uuaIkOWKnwogICAgICB0aGlzLm1pdG1fbWVzc2FnZSA9IGRhdGE7CiAgICAgIGNvbnNvbGUubG9nKCLotbDliLDlm57osIPmlrnms5XllaYiKTsKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUubWl0bXByb3h5LnBvcnQpOwogICAgICBpZiAoCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubWl0bXByb3h5LnBvcnQgIT09ICIiICYmCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubWl0bXByb3h5Lm1pdG1faWQgIT09ICIiCiAgICAgICkgewogICAgICAgIGNvbnNvbGUubG9nKCLov5vlhaXliKTmlq0iKTsKICAgICAgICBpZiAodGhpcy5zb2NrZXQgPT09ICIiKSB7CiAgICAgICAgICB0aGlzLndlYlNvY2tldEluaXQoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jcmVhdGVTaG93ID0gZmFsc2U7CiAgICAgICAgdGhpcy5oYXNfbWl0bXByb3h5ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICBpbml0OiBmdW5jdGlvbih3ZWJzb2NrZXRQYXRoKSB7CiAgICAgIGlmICh0eXBlb2YgV2ViU29ja2V0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgIGFsZXJ0KCLmgqjnmoTmtY/op4jlmajkuI3mlK/mjIFzb2NrZXQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQod2Vic29ja2V0UGF0aCk7CiAgICAgICAgLy8g55uR5ZCsc29ja2V06L+e5o6lCiAgICAgICAgdGhpcy5zb2NrZXQub25vcGVuID0gdGhpcy5vcGVuOwogICAgICAgIC8vIOebkeWQrHNvY2tldOmUmeivr+S/oeaBrwogICAgICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSB0aGlzLmVycm9yOwogICAgICAgIC8vIOebkeWQrHNvY2tldOa2iOaBrwogICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZTsKICAgICAgfQogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmxvZygic29ja2V06L+e5o6l5oiQ5YqfIik7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmxvZygi6L+e5o6l6ZSZ6K+vIik7CiAgICB9LAogICAgLy8g6I635Y+W5Yiw5pWw5o2u5LmL5ZCO77yM5bCG5pWw5o2u5aGr5YWF57uZIOWtkOe7hOS7tueahGRhdGFTb3VyY2UKICAgIGdldE1lc3NhZ2U6IGZ1bmN0aW9uKG1zZykgewogICAgICB2YXIgZWFjaERhdGEgPSBKU09OLnBhcnNlKG1zZy5kYXRhKTsKICAgICAgLy8gY29uc29sZS5sb2cobXNnLmRhdGEpOwogICAgICB2YXIgdG90YWxFYWNoRGF0YSA9IHsKICAgICAgICBrZXk6IHRoaXMuaW5kZXgsCiAgICAgICAgaW50ZXJmYWNlUGF0aDogZWFjaERhdGEucmVxX3VybCwKICAgICAgICBleHBpcmVUaW1lOiBlYWNoRGF0YS5leHBpcmVfdGltZSwKICAgICAgICBtaXRtSWQ6IGVhY2hEYXRhLm1pdG1faWQsCiAgICAgICAgcmVxU3RhcnQ6IGVhY2hEYXRhLnJlcV9zdGFydCwKICAgICAgICByZXFFbmQ6IGVhY2hEYXRhLnJlcV9lbmQsCiAgICAgICAgcmVzU3RhcnQ6IGVhY2hEYXRhLnJlc19zdGFydCwKICAgICAgICByZXNFbmQ6IGVhY2hEYXRhLnJlc19lbmQsCiAgICAgICAgdXNlcklkOiBlYWNoRGF0YS51c2VyX2lkLAogICAgICAgIHJlcXVlc3RNZXRob2Q6IGVhY2hEYXRhLnJlcV9tZXRob2QsCiAgICAgICAgcmVxdWVzdERhdGE6IGVhY2hEYXRhLmpzb25fdGV4dCwKICAgICAgICByZXF1ZXN0UXVlcnk6IGVhY2hEYXRhLmdldF9kYXRhLAogICAgICAgIHJlcXVlc3RGb3JtOiBlYWNoRGF0YS5wb3N0X2RhdGEsCiAgICAgICAgcmVxdWVzdFNjaGVtZTogZWFjaERhdGEucmVxX3NjaGVtZSwKICAgICAgICByZXF1ZXN0SGVhZGVyOiBlYWNoRGF0YS5yZXFfaGVhZGVyLAogICAgICAgIHJlcXVlc3RDb29raWU6IGVhY2hEYXRhLnJlcV9jb29raWUsCiAgICAgICAgcmVzcG9uc2VDb29raWU6IGVhY2hEYXRhLnJlc19jb29raWUsCiAgICAgICAgcmVzcG9uc2VTdGF0dXM6IGVhY2hEYXRhLnJlc19zdGF0dXNfY29kZSwKICAgICAgICByZXNwb25zZUhlYWRlcjogZWFjaERhdGEucmVzX2hlYWRlciwKICAgICAgICByZXNwb25zZURhdGE6IGVhY2hEYXRhLnJlc190ZXh0LAoKICAgICAgICBwb3BvdmVyU3RhdHVzOiB7CiAgICAgICAgICBpbnRlcmZhY2VQYXRoOiB7CiAgICAgICAgICAgIHZpc2lhYmxlOiBmYWxzZSwKICAgICAgICAgICAgY2xpY2tWaXNpYWJsZTogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICByZXF1ZXN0RGF0YTogewogICAgICAgICAgICB2aXNpYWJsZTogZmFsc2UsCiAgICAgICAgICAgIGNsaWNrVmlzaWFibGU6IGZhbHNlCiAgICAgICAgICB9LAogICAgICAgICAgcmVxdWVzdEhlYWRlcjogewogICAgICAgICAgICB2aXNpYWJsZTogZmFsc2UsCiAgICAgICAgICAgIGNsaWNrVmlzaWFibGU6IGZhbHNlCiAgICAgICAgICB9LAogICAgICAgICAgcmVzcG9uc2VIZWFkZXI6IHsKICAgICAgICAgICAgdmlzaWFibGU6IGZhbHNlLAogICAgICAgICAgICBjbGlja1Zpc2lhYmxlOiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIHJlc3BvbnNlRGF0YTogewogICAgICAgICAgICB2aXNpYWJsZTogZmFsc2UsCiAgICAgICAgICAgIGNsaWNrVmlzaWFibGU6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKAogICAgICAgIHRoaXMuc2VsZWN0Q29uZGl0aW9uLnVybGNvbnRlbnQgIT09IHVuZGVmaW5lZCAmJgogICAgICAgIHRvdGFsRWFjaERhdGEuaW50ZXJmYWNlUGF0aC5zZWFyY2godGhpcy5zZWxlY3RDb25kaXRpb24udXJsY29udGVudCkgPT09CiAgICAgICAgICAtMQogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgKICAgICAgICB0aGlzLnNlbGVjdENvbmRpdGlvbi5hcHBseW5hbWUgIT09IHVuZGVmaW5lZCAmJgogICAgICAgIHRvdGFsRWFjaERhdGEuaW50ZXJmYWNlUGF0aC5zZWFyY2godGhpcy5zZWxlY3RDb25kaXRpb24uYXBwbHluYW1lKSA9PT0KICAgICAgICAgIC0xCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKAogICAgICAgIHRoaXMuc2VsZWN0Q29uZGl0aW9uLnNlbGVjdE1ldGhvZCAhPT0gdW5kZWZpbmVkICYmCiAgICAgICAgdGhpcy5zZWxlY3RDb25kaXRpb24uc2VsZWN0TWV0aG9kLmluZGV4T2YoCiAgICAgICAgICB0b3RhbEVhY2hEYXRhLnJlcXVlc3RNZXRob2QKICAgICAgICApID09PSAtMQogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuJHJlZnMuZHJhZ2dhYmxlKSB7CiAgICAgICAgdGhpcy4kcmVmcy5kcmFnZ2FibGUuZGF0YVNvdXJjZS5wdXNoKHRvdGFsRWFjaERhdGEpOwogICAgICAgIHRoaXMuaW5kZXggKz0gMTsKICAgICAgfQogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnNvY2tldC5zZW5kKCJoYWhhIik7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uKCkgewogICAgICBjb25zb2xlLmxvZygic29ja2V05bey57uP5YWz6ZetIik7CiAgICB9LAogICAgY2xvc2VtaXRtcHJveHkoKSB7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogIi9hcGkvdGVtcGludGVyL3N0b3BtaXRtIiwKICAgICAgICBtZXRob2Q6ICJQT1NUIgogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIyMDAwMCkgewogICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCLlt7Lnu4/kuLrmgqjlhbPpl61taXRtcHJveHnku6PnkIYiKTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIyMDAwMikgewogICAgICAgICAgbWVzc2FnZS53YXJuaW5nKCLmn6Xor6LliLDkvaDov5novrnmsqHmnInlr7nlupTnmoRtaXRtcHJveHnku6PnkIYiKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAiZGVsZXRlVXNlck1pdG1wcm94eSIgfSk7CiAgICAgICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IHRoaXMuY2xvc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+etm+mAiS/lj5bmtojnrZvpgInmjInpkq4KICAgIGNsaWNrU2NyZWVuKCkgewogICAgICBjb25zb2xlLmxvZygiY2xpY2tTY3JlZW4iKTsKICAgICAgdGhpcy5pc0VkaXRlZCA9ICF0aGlzLmlzRWRpdGVkOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["transcribe.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"transcribe.vue","sourceRoot":"src/views/interface","sourcesContent":["<template>\n  <div v-cloak>\n    <createmitm v-show=\"createShow\" @create-event=\"getCreateData\"></createmitm>\n    <div id=\"components-form-demo-advanced-search\" v-show=\"has_mitmproxy\">\n      <a-form\n        class=\"ant-advanced-search-form\"\n        :form=\"form\"\n        @submit=\"handleSearch\"\n      >\n        <a-row :gutter=\"24\">\n          <a-col :span=\"8\">\n            <a-form-item label=\"URL查询\">\n              <a-input\n                placeholder=\"输入要查询URL信息\"\n                v-decorator=\"[`urlcontent`]\"\n              ></a-input>\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"8\">\n            <a-form-item label=\"应用查询\">\n              <a-input\n                placeholder=\"输入URL所属应用\"\n                v-decorator=\"[`applyname`]\"\n              ></a-input>\n            </a-form-item>\n          </a-col>\n          <a-col :span=\"8\">\n            <a-form-item label=\"请求方式\">\n              <a-select\n                v-decorator=\"['selectMethod']\"\n                mode=\"multiple\"\n                placeholder=\"筛选请求method\"\n                class=\"search-methdod-select\"\n              >\n                <a-select-option value=\"GET\">\n                  GET\n                </a-select-option>\n                <a-select-option value=\"POST\">\n                  POST\n                </a-select-option>\n              </a-select>\n            </a-form-item>\n          </a-col>\n        </a-row>\n        <a-row>\n          <a-col :span=\"12\" :style=\"{ textAlign: 'left' }\">\n            <a-button type=\"primary\" @click=\"clearAllDataSource\"\n              >清除全部</a-button\n            >\n          </a-col>\n          <a-col :span=\"12\" :style=\"{ textAlign: 'right' }\">\n            <a-button type=\"primary\" html-type=\"submit\">\n              添加搜索规则\n            </a-button>\n            <a-button :style=\"{ marginLeft: '8px' }\" @click=\"handleReset\">\n              清空搜索规则\n            </a-button>\n            <!-- <a :style=\"{ marginLeft: '8px', fontSize: '12px' }\" @click=\"toggle\">\n            Collapse <a-icon :type=\"expand ? 'up' : 'down'\" />\n          </a> -->\n            <a-button\n              type=\"primary\"\n              @click=\"closemitmproxy\"\n              :style=\"{ marginLeft: '8px', fontSize: '12px' }\"\n              >关闭mitmproxy</a-button\n            >\n          </a-col>\n        </a-row>\n      </a-form>\n\n      <div class=\"search-result-list\">\n        <draggable\n          :columns=\"columns\"\n          :rowSelection=\"rowSelection\"\n          ref=\"draggable\"\n        ></draggable>\n      </div>\n      <!-- <a-form :style=\"{ marginTop: '8px' }\">\n        <a-form-item>\n          <a-row>\n            <a-col :span=\"24\" :style=\"{ textAlign: 'right' }\">\n              <a-button\n                type=\"primary\"\n                :style=\"{ marginLeft: '8px' }\"\n                @click=\"clickScreen\"\n                >{{ screenText }}</a-button\n              >\n              <a-button\n                type=\"primary\"\n                :style=\"{ marginLeft: '8px' }\"\n                :disabled=\"true\"\n                >确认</a-button\n              >\n            </a-col>\n          </a-row>\n        </a-form-item>\n      </a-form> -->\n    </div>\n  </div>\n</template>\n\n<script>\n// 录制上传页面\n\nimport request from \"@/utils/request\";\nimport createmitm from \"@/components/modulelist/createmitm\";\nimport { message } from \"ant-design-vue\";\nimport draggable from \"@/components/modulelist/draggable\";\nimport { hostIp } from \"@/utils/commonconfig\";\n\nconst columns = [\n  {\n    title: \"接口path\",\n    width: 350,\n    dataIndex: \"interfacePath\",\n    key: \"interfacePath\",\n    scopedSlots: { customRender: \"interface-path\" }\n  },\n  {\n    title: \"请求方式\",\n    width: 100,\n    dataIndex: \"requestMethod\",\n    key: \"requestMethod\"\n  },\n  {\n    title: \"请求数据\",\n    dataIndex: \"requestData\",\n    key: \"requestData\",\n    width: 300,\n    scopedSlots: { customRender: \"request-data\" }\n  },\n  // { title: '请求Header', dataIndex: 'requestHeader', key: 'requestHeader', width: 200 , scopedSlots: { customRender: 'request-header',},},\n  // { title: '请求耗时', dataIndex: 'requestTime', key: '3', width: 100 },\n  // {\n  //   title: \"Status\",\n  //   dataIndex: \"responseStatus\",\n  //   key: \"responseStatus\",\n  //   width: 100\n  // },\n  // { title: '返回Header', dataIndex: 'responseHeader', key: 'responseHeader', width: 200 , scopedSlots: { customRender: 'response-header',},},\n  {\n    title: \"返回Data\",\n    dataIndex: \"responseData\",\n    key: \"responseData\",\n    scopedSlots: { customRender: \"response-data\" }\n  },\n  // { title: '请求Size', dataIndex: 'requestSize', key: '7', width: 100 },\n  // { title: '返回Size', dataIndex: 'responseSize', key: '8' },\n  {\n    title: \"Action\",\n    key: \"operation\",\n    fixed: \"right\",\n    width: 100,\n    scopedSlots: { customRender: \"action\" }\n  }\n];\n\nconst rowSelection = {\n  onChange: (selectedRowKeys, selectedRows) => {\n    console.log(\n      `selectedRowKeys: ${selectedRowKeys}`,\n      \"selectedRows: \",\n      selectedRows\n    );\n  },\n  onSelect: (record, selected, selectedRows) => {\n    console.log(record, selected, selectedRows);\n  },\n  onSelectAll: (selected, selectedRows, changeRows) => {\n    console.log(selected, selectedRows, changeRows);\n  }\n};\n\nexport default {\n  data() {\n    return {\n      columns: columns,\n      expand: false,\n      form: this.$form.createForm(this, { name: \"advanced_search\" }),\n      socket: \"\",\n      has_mitmproxy: false,\n      createShow: true,\n      mitm_message: {},\n      isEdited: false,\n      index: 0,\n      selectCondition: {}\n    };\n  },\n  components: {\n    createmitm,\n    draggable\n  },\n  computed: {\n    count() {\n      return this.expand ? 11 : 7;\n    },\n\n    // 添加筛选row相关策略\n    rowSelection() {\n      return this.isEdited ? rowSelection : null;\n    },\n    // 筛选/取消筛选按钮切换\n    screenText() {\n      return this.isEdited ? \"取消筛选\" : \"筛选\";\n    }\n  },\n  updated() {\n    console.log(\"updated\");\n  },\n  destroyed() {\n    if (this.socket !== \"\") {\n      // 销毁监听\n      this.socket.onclose = this.close;\n    }\n  },\n  created() {\n    // 在创建时候就请求查询是否有对应的port\n    console.log(this.$store.state.mitmproxy);\n    console.log(this.$store.state.auth);\n    if (\n      sessionStorage.getItem(\"mitmproxy\") &&\n      this.$store.state.mitmproxy !== undefined &&\n      \"port\" in this.$store.state.mitmproxy &&\n      this.$store.state.mitmproxy.port !== \"\"\n    ) {\n      this.createShow = false;\n      this.has_mitmproxy = true;\n      this.webSocketInit();\n    } else {\n      this.$store.dispatch({ type: \"getUserMitmproxy\" }).then(res => {\n        console.log(res);\n        if (res === 230000) {\n          this.createShow = true;\n          this.has_mitmproxy = false;\n        } else if (res === 230002) {\n          this.createShow = false;\n          this.has_mitmproxy = true;\n          this.webSocketInit();\n        }\n      });\n    }\n  },\n  methods: {\n    // 点击搜索按钮，触发方法\n    handleSearch(e) {\n      e.preventDefault();\n      this.form.validateFields((error, values) => {\n        console.log(\"error\", error);\n        console.log(\"Received values of form: \", values);\n        this.selectCondition = values;\n        this.$refs.draggable.dataSource = [];\n        this.index = 0;\n        message.success(\"已经为您添加了接口筛选条件\");\n      });\n    },\n    // 如果userid为空，则手动再次请求以下\n    webSocketInit() {\n      request({\n        url: \"/api/user/message\",\n        method: \"POST\"\n      }).then(res => {\n        if (res.data.code === 120000) {\n          this.init(\n            \"ws://\" +\n              hostIp +\n              \"/tempinter/tempsocket/flow/\" +\n              res.data.data.user_id\n          );\n        } else {\n          message.error(\"无法获取到websocket连接:\" + res.data.code);\n        }\n      });\n    },\n    // 点击清空按钮，触发方法\n    handleReset() {\n      this.form.resetFields();\n      this.selectCondition = {};\n      message.success(\"已经为您删除了所有筛选条件\");\n    },\n    // 搜索选项折叠\n    toggle() {\n      this.expand = !this.expand;\n    },\n    //点击删除全部，清空所有表格数据\n    clearAllDataSource() {\n      this.$refs.draggable.dataSource = [];\n      this.index = 0;\n    },\n    getCreateData(data) {\n      // 这个时候组件已经创建成功\n      this.mitm_message = data;\n      console.log(\"走到回调方法啦\");\n      console.log(this.$store.state.mitmproxy.port);\n      if (\n        this.$store.state.mitmproxy.port !== \"\" &&\n        this.$store.state.mitmproxy.mitm_id !== \"\"\n      ) {\n        console.log(\"进入判断\");\n        if (this.socket === \"\") {\n          this.webSocketInit();\n        }\n        this.createShow = false;\n        this.has_mitmproxy = true;\n      }\n    },\n\n    init: function(websocketPath) {\n      if (typeof WebSocket === \"undefined\") {\n        alert(\"您的浏览器不支持socket\");\n      } else {\n        this.socket = new WebSocket(websocketPath);\n        // 监听socket连接\n        this.socket.onopen = this.open;\n        // 监听socket错误信息\n        this.socket.onerror = this.error;\n        // 监听socket消息\n        this.socket.onmessage = this.getMessage;\n      }\n    },\n    open: function() {\n      console.log(\"socket连接成功\");\n    },\n    error: function() {\n      console.log(\"连接错误\");\n    },\n    // 获取到数据之后，将数据填充给 子组件的dataSource\n    getMessage: function(msg) {\n      var eachData = JSON.parse(msg.data);\n      // console.log(msg.data);\n      var totalEachData = {\n        key: this.index,\n        interfacePath: eachData.req_url,\n        expireTime: eachData.expire_time,\n        mitmId: eachData.mitm_id,\n        reqStart: eachData.req_start,\n        reqEnd: eachData.req_end,\n        resStart: eachData.res_start,\n        resEnd: eachData.res_end,\n        userId: eachData.user_id,\n        requestMethod: eachData.req_method,\n        requestData: eachData.json_text,\n        requestQuery: eachData.get_data,\n        requestForm: eachData.post_data,\n        requestScheme: eachData.req_scheme,\n        requestHeader: eachData.req_header,\n        requestCookie: eachData.req_cookie,\n        responseCookie: eachData.res_cookie,\n        responseStatus: eachData.res_status_code,\n        responseHeader: eachData.res_header,\n        responseData: eachData.res_text,\n\n        popoverStatus: {\n          interfacePath: {\n            visiable: false,\n            clickVisiable: false\n          },\n          requestData: {\n            visiable: false,\n            clickVisiable: false\n          },\n          requestHeader: {\n            visiable: false,\n            clickVisiable: false\n          },\n          responseHeader: {\n            visiable: false,\n            clickVisiable: false\n          },\n          responseData: {\n            visiable: false,\n            clickVisiable: false\n          }\n        }\n      };\n\n      if (\n        this.selectCondition.urlcontent !== undefined &&\n        totalEachData.interfacePath.search(this.selectCondition.urlcontent) ===\n          -1\n      ) {\n        return;\n      }\n\n      if (\n        this.selectCondition.applyname !== undefined &&\n        totalEachData.interfacePath.search(this.selectCondition.applyname) ===\n          -1\n      ) {\n        return;\n      }\n\n      if (\n        this.selectCondition.selectMethod !== undefined &&\n        this.selectCondition.selectMethod.indexOf(\n          totalEachData.requestMethod\n        ) === -1\n      ) {\n        return;\n      }\n      if (this.$refs.draggable) {\n        this.$refs.draggable.dataSource.push(totalEachData);\n        this.index += 1;\n      }\n    },\n    send: function() {\n      this.socket.send(\"haha\");\n    },\n    close: function() {\n      console.log(\"socket已经关闭\");\n    },\n    closemitmproxy() {\n      request({\n        url: \"/api/tempinter/stopmitm\",\n        method: \"POST\"\n      }).then(res => {\n        if (res.data.code === 220000) {\n          message.success(\"已经为您关闭mitmproxy代理\");\n        } else if (res.data.code === 220002) {\n          message.warning(\"查询到你这边没有对应的mitmproxy代理\");\n        }\n        this.$store.dispatch({ type: \"deleteUserMitmproxy\" });\n        this.socket.onclose = this.close;\n      });\n    },\n    // 点击筛选/取消筛选按钮\n    clickScreen() {\n      console.log(\"clickScreen\");\n      this.isEdited = !this.isEdited;\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n[v-cloak] {\n  display: none;\n}\n\n.ant-advanced-search-form {\n  padding: 24px;\n  background: #fbfbfb;\n  border: 1px solid #d9d9d9;\n  border-radius: 6px;\n}\n\n.ant-advanced-search-form .ant-form-item {\n  display: flex;\n}\n\n.ant-advanced-search-form .ant-form-item-control-wrapper {\n  flex: 1;\n}\n\n#components-form-demo-advanced-search .ant-form {\n  max-width: none;\n}\n#components-form-demo-advanced-search {\n  margin-top: 16px;\n  border: 1px dashed #e9e9e9;\n  border-radius: 6px;\n  background-color: #fafafa;\n  min-height: 200px;\n  text-align: center;\n  /* padding-top: 10px; */\n}\n\n.search-result-list {\n  margin-top: 16px;\n  border: 1px dashed #e9e9e9;\n  border-radius: 6px;\n  background-color: #fafafa;\n  min-height: 200px;\n  text-align: center;\n  padding-top: 20px;\n}\n\n@media (min-width: 900px) {\n  .search-methdod-select {\n    width: 150px;\n  }\n}\n\n@media (max-width: 900px) {\n  .search-methdod-select {\n    width: 100px;\n  }\n}\n</style>\n"]}]}