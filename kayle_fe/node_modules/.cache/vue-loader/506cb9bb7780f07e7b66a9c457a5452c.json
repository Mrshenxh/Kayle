{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/showplan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/showplan.vue","mtime":1610605270918},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IG1lc3NhZ2UsIE1vZGFsIH0gZnJvbSAiYW50LWRlc2lnbi12dWUiOwppbXBvcnQgcGxhbnRhYmxlIGZyb20gIkAvY29tcG9uZW50cy90ZXN0cGxhbi9wbGFudGFibGUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlUGxhbkRldGFpbDogewogICAgICAgIGNsaWVudFZlcnNpb246ICIiLAogICAgICAgIHBsYW5Vc2VyOiAiIiwKICAgICAgICBjb3JlUmF0ZTogIiIsCiAgICAgICAgcGxhblN0YXJ0OiAiIiwKICAgICAgICBwbGFuRW5kOiAiIiwKICAgICAgICBjb3JlRGF0YTogW10KICAgICAgfSwKICAgICAgY29sdW1uczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5o6l5Y+j5q2j5YiZIiwKICAgICAgICAgIGRhdGFJbmRleDogImludGVyZmFjZV9yZWd1bGFyIiwKICAgICAgICAgIGtleTogImludGVyZmFjZV9yZWd1bGFyIiwKICAgICAgICAgIHdpZHRoOiAzMDAsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbnRlcmZhY2VfcmVndWxhciIgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmjqXlj6NJRCIsCiAgICAgICAgICBkYXRhSW5kZXg6ICJpbnRlcmZhY2VfaWQiLAogICAgICAgICAga2V5OiAiaW50ZXJmYWNlX2lkIiwKICAgICAgICAgIHdpZHRoOiAyMDAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi6LSf6LSj5Lq6IiwKICAgICAgICAgIGRhdGFJbmRleDogInVzZXJfbmFtZSIsCiAgICAgICAgICBrZXk6ICJ1c2VyX25hbWUiLAogICAgICAgICAgd2lkdGg6IDEwMAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmiYDlsZ7kuJrliqEiLAogICAgICAgICAgZGF0YUluZGV4OiAiY29udGVudCIsCiAgICAgICAgICBrZXk6ICJjb250ZW50IiwKICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJiZWxvbmdCdXNpbmVzcyIgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmjqXlj6Pmj4/ov7AiLAogICAgICAgICAgZGF0YUluZGV4OiAiaW50ZXJmYWNlX2Rlc2MiLAogICAgICAgICAga2V5OiAiaW50ZXJmYWNlX2Rlc2MiCiAgICAgICAgfQogICAgICBdLAogICAgICB1c2Vyc2VhcmNoOiAiIiwKICAgICAgdGFidHlwZTogImNvcmVEYXRhIgogICAgfTsKICB9LAogIHByb3BzOiBbInBsYW5EZXRhaWwiXSwKICBjb21wb25lbnRzOiB7CiAgICBwbGFudGFibGUKICB9LAogIHdhdGNoOiB7CiAgICBwbGFuRGV0YWlsKCkgewogICAgICB0aGlzLmJhc2VQbGFuRGV0YWlsID0gdGhpcy5wbGFuRGV0YWlsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VQbGFuKCkgewogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICIvYXBpL3BsYW4vc3RvcHBsYW4iLAogICAgICAgIG1ldGhvZDogIlBPU1QiCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMzIwMDAwKSB7CiAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKICAgICAgICAgIC8qKgogICAgICAgICAgICog6K6h5YiS5Yib5bu65oiQ5Yqf77yM5Zue6LCD57uZ54i257uE5Lu2CiAgICAgICAgICAgKi8KICAgICAgICAgIHRoaXMuJGVtaXQoImNsb3NlZFBsYW4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbWVzc2FnZS53YXJuaW5nKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93RGVsZXRlQ29uZmlybSgpIHsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIE1vZGFsLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAi56Gu6K6k6KaB5YWz6Zet5q2k6K6h5YiS5LmI77yfIiwKICAgICAgICBjb250ZW50OiB0aGF0LmJhc2VQbGFuRGV0YWlsLmNsaWVudFZlcnNpb24gKyAi54mI5pys5Zue5b2S5rWL6K+V6K6h5YiSIiwKICAgICAgICBva1RleHQ6ICLnoa7orqQiLAogICAgICAgIG9rVHlwZTogImRhbmdlciIsCiAgICAgICAgY2FuY2VsVGV4dDogIuWPlua2iCIsCiAgICAgICAgb25PaygpIHsKICAgICAgICAgIHRoYXQuY2xvc2VQbGFuKCk7CiAgICAgICAgfSwKICAgICAgICBvbkNhbmNlbCgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJDYW5jZWwiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2VhcmNoKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgdGhpcy51c2Vyc2VhcmNoID0gdmFsdWU7CiAgICB9LAogICAgY2hhbmdlVGFiKGFjdGl2aXR5S2V5KSB7CiAgICAgIGNvbnNvbGUubG9nKGFjdGl2aXR5S2V5KTsKICAgICAgaWYgKGFjdGl2aXR5S2V5ID09PSAiMSIpIHsKICAgICAgICB0aGlzLnRhYnR5cGUgPSAiY29yZURhdGEiOwogICAgICB9IGVsc2UgaWYgKGFjdGl2aXR5S2V5ID09PSAiMiIpIHsKICAgICAgICB0aGlzLnRhYnR5cGUgPSAidW5Eb25lQ29yZSI7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["showplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"showplan.vue","sourceRoot":"src/components/testplan","sourcesContent":["<template>\n  <div>\n    <div>\n      <a-page-header\n        title=\"回归计划\"\n        :sub-title=\"basePlanDetail.clientVersion + '版本回归测试计划'\"\n      >\n        <template slot=\"tags\">\n          <a-tag color=\"blue\">\n            执行中\n          </a-tag>\n        </template>\n        <template slot=\"extra\">\n          <a-button key=\"3\">\n            修改计划\n          </a-button>\n          <a-button key=\"2\" @click=\"showDeleteConfirm\">\n            关闭计划\n          </a-button>\n          <a-button key=\"1\" type=\"primary\">\n            重启计划\n          </a-button>\n        </template>\n        <a-row type=\"flex\" style=\"padding: 10px;\">\n          <a-statistic title=\"测试版本\" :value=\"basePlanDetail.clientVersion\" />\n          <a-statistic\n            title=\"创建人\"\n            :value=\"basePlanDetail.planUser\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"覆盖率\"\n            :value=\"basePlanDetail.coreRate\"\n            :value-style=\"{ color: 'red' }\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"开始时间\"\n            :value=\"basePlanDetail.planStart\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"结束时间\"\n            :value=\"basePlanDetail.planEnd\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n        </a-row>\n      </a-page-header>\n    </div>\n    <div>\n      <a-tabs default-active-key=\"1\" @change=\"changeTab\">\n        <a-tab-pane key=\"1\">\n          <span slot=\"tab\">\n            <a-icon type=\"file\" />\n            所有接口\n          </span>\n          <plantable\n            :columns=\"columns\"\n            :tabType=\"tabtype\"\n            :usersearch=\"usersearch\"\n          ></plantable>\n        </a-tab-pane>\n\n        <a-tab-pane key=\"2\">\n          <span slot=\"tab\">\n            <a-icon type=\"undo\" />\n            未匹配接口\n          </span>\n          <plantable\n            :columns=\"columns\"\n            :tabType=\"tabtype\"\n            :usersearch=\"usersearch\"\n          ></plantable>\n        </a-tab-pane>\n        <a-input-search\n          slot=\"tabBarExtraContent\"\n          enter-button\n          placeholder=\"请输入负责人名称\"\n          style=\"width: 200px\"\n          @search=\"onSearch\"\n        />\n      </a-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport { message, Modal } from \"ant-design-vue\";\nimport plantable from \"@/components/testplan/plantable\";\n\nexport default {\n  data() {\n    return {\n      basePlanDetail: {\n        clientVersion: \"\",\n        planUser: \"\",\n        coreRate: \"\",\n        planStart: \"\",\n        planEnd: \"\",\n        coreData: []\n      },\n      columns: [\n        {\n          title: \"接口正则\",\n          dataIndex: \"interface_regular\",\n          key: \"interface_regular\",\n          width: 300,\n          scopedSlots: { customRender: \"interface_regular\" }\n        },\n        {\n          title: \"接口ID\",\n          dataIndex: \"interface_id\",\n          key: \"interface_id\",\n          width: 200\n        },\n        {\n          title: \"负责人\",\n          dataIndex: \"user_name\",\n          key: \"user_name\",\n          width: 100\n        },\n        {\n          title: \"所属业务\",\n          dataIndex: \"content\",\n          key: \"content\",\n          width: 100,\n          scopedSlots: { customRender: \"belongBusiness\" }\n        },\n        {\n          title: \"接口描述\",\n          dataIndex: \"interface_desc\",\n          key: \"interface_desc\"\n        }\n      ],\n      usersearch: \"\",\n      tabtype: \"coreData\"\n    };\n  },\n  props: [\"planDetail\"],\n  components: {\n    plantable\n  },\n  watch: {\n    planDetail() {\n      this.basePlanDetail = this.planDetail;\n    }\n  },\n  methods: {\n    closePlan() {\n      request({\n        url: \"/api/plan/stopplan\",\n        method: \"POST\"\n      }).then(res => {\n        if (res.data.code === 320000) {\n          message.success(res.data.msg);\n          /**\n           * 计划创建成功，回调给父组件\n           */\n          this.$emit(\"closedPlan\");\n        } else {\n          message.warning(res.data.msg);\n        }\n      });\n    },\n    showDeleteConfirm() {\n      const that = this;\n      Modal.confirm({\n        title: \"确认要关闭此计划么？\",\n        content: that.basePlanDetail.clientVersion + \"版本回归测试计划\",\n        okText: \"确认\",\n        okType: \"danger\",\n        cancelText: \"取消\",\n        onOk() {\n          that.closePlan();\n        },\n        onCancel() {\n          console.log(\"Cancel\");\n        }\n      });\n    },\n    onSearch(value) {\n      console.log(value);\n      this.usersearch = value;\n    },\n    changeTab(activityKey) {\n      console.log(activityKey);\n      if (activityKey === \"1\") {\n        this.tabtype = \"coreData\";\n      } else if (activityKey === \"2\") {\n        this.tabtype = \"unDoneCore\";\n      }\n    }\n  }\n};\n</script>\n<style>\ntr:last-child td {\n  padding-bottom: 0;\n  /* color:cornflowerblue */\n}\n</style>\n"]}]}