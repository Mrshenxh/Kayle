{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/plantotalinter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/plantotalinter.vue","mtime":1610019117442},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnOwovLyBpbXBvcnQge21lc3NhZ2V9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogW10sCiAgICAgIHF1ZXJ5cGxhbmNvcmU6ICIvYXBpL3BsYW4vcXVlcnlwbGFuY29yZT8iLAogICAgICBwYWdlaWQ6IDEsCiAgICAgIGNvcmVDb2x1bW5zOiBbXSwKICAgICAgdW5Eb25lQ29sdW1uczogW10sCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICB0b3RhbDogMTAKICAgICAgfSwKICAgIH07CiAgfSwKICBwcm9wczogWyJjb2x1bW5zIiwgInRhYlR5cGUiLCAidXNlcnNlYXJjaCJdLAogIAogIHdhdGNoOnsKICAgICAgLy8g55uR5ZCsdGFiVHlwZeWPmOWMlu+8jOWmguaenOacieWPmOWMluWImemHjeaWsOivt+axggogICAgICB0YWJUeXBlKCl7CiAgICAgICAgICAgIHRoaXMucGFnZWlkID0gMTsKICAgICAgICAgICAgdGhpcy5iYXNlUmVxdWVzdEZ1bmModGhpcy5wYWdlaWQpOwogICAgICB9LAogICAgICB1c2Vyc2VhcmNoKCl7CiAgICAgICAgICB0aGlzLmJhc2VVc2Vyc2VhcmNoID0gdGhpcy51c2Vyc2VhcmNoOwogICAgICB9CiAgfSwKCiAgY3JlYXRlZCgpewogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbHVtbnMpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnRhYlR5cGUpOwogICAgICBpZiAodGhpcy50YWJUeXBlID09PSAiY29yZURhdGEiKSB7CiAgICAgICAgICB0aGlzLmNvcmVDb2x1bW5zLnB1c2goewogICAgICAgICAgICAgIHRpdGxlOiAn5Yy56YWN5L+h5oGvJywKICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdtYXRjaF9pbmZvbWF0aW9uJywKICAgICAgICAgICAgICBrZXk6ICdtYXRjaF9pbmZvbWF0aW9uJywKICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbWF0Y2gtaW5mb21hdGlvbiIgfQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuY29yZUNvbHVtbnMucHVzaCh7CiAgICAgICAgICAgICAgdGl0bGU6ICfmmK/lkKblrozmiJAnLAogICAgICAgICAgICAgIGRhdGFJbmRleDogJ2lzX2ZpbmlzaGVkJywKICAgICAgICAgICAgICBrZXk6ICdpc19maW5pc2hlZCcsCiAgICAgICAgICAgICAgd2lkdGg6IDEwMCwKICAgICAgICAgICAgICBmaXhlZDogJ3JpZ2h0JywKICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpcy1maW5pc2hlZCIgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNvcmVDb2x1bW5zID0gWy4uLnRoaXMuY29sdW1ucywgLi4udGhpcy5jb3JlQ29sdW1uc10KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29yZUNvbHVtbnMpOwogICAgICB9ZWxzZSBpZiAodGhpcy50YWJUeXBlID09PSAidW5Eb25lQ29yZSIpIHsKICAgICAgICAgIHRoaXMudW5Eb25lQ29sdW1ucyA9IHRoaXMuY29sdW1ucwogICAgICB9CiAgICAgIHRoaXMuYmFzZVJlcXVlc3RGdW5jKHRoaXMucGFnZWlkKTsKICB9LAogIG1ldGhvZHM6IHsKICAgICAgZ2V0UXVlcnlQbGFuQ29yZVVSTChwYWdlSWQpIHsKICAgICAgICAgIHZhciBiYXNlUXVlcnlVcmwgPSB0aGlzLnF1ZXJ5cGxhbmNvcmUgKyAidGFidHlwZT0iICsgdGhpcy50YWJUeXBlICsgIiZwYWdlaWQ9IiArIHBhZ2VJZDsKICAgICAgICAgIGlmICh0aGlzLmJhc2VVc2Vyc2VhcmNoKSB7CiAgICAgICAgICAgICAgYmFzZVF1ZXJ5VXJsID0gYmFzZVF1ZXJ5VXJsICsgIiZ1c2Vyc2VhcmNoPSIrdGhpcy5iYXNlVXNlcnNlYXJjaAogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGJhc2VRdWVyeVVybAogICAgICB9LAoKICAgICAgY2hhbmdlUGFnZShlKSB7CiAgICAgICAgICB2YXIgc3ViU3RyID0gbmV3IFJlZ0V4cCgvcGFnZWlkPVxkezAsM30vKTsKICAgICAgICAgIHRoaXMuY29yZUludGVyVXJsID0gdGhpcy5jb3JlSW50ZXJVcmwucmVwbGFjZSgKICAgICAgICAgICAgICBzdWJTdHIsCiAgICAgICAgICAgICAgInBhZ2VpZD0iICsgZS5jdXJyZW50CiAgICAgICAgICAgICAgKTsKICAgICAgICAgIHJlcXVlc3QoewogICAgICAgICAgICAgIHVybDogdGhpcy5jb3JlSW50ZXJVcmwsCiAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIgogICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjMwMDAzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGEuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RvbFBhZ2VzICogMTA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICB9LAoKICAgICAgYmFzZVJlcXVlc3RGdW5jKHBhZ2VpZCl7CiAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmw6IHRoaXMuZ2V0UXVlcnlQbGFuQ29yZVVSTChwYWdlaWQpLAogICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIKICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMzEwMDAwKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RvbFBhZ2VzICogMTA7CiAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfSwKICAgIH0sCn07Cg=="},{"version":3,"sources":["plantotalinter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"plantotalinter.vue","sourceRoot":"src/components/testplan","sourcesContent":["<template>\n  <a-table\n    :columns=\"tabType === 'coreData' ? coreColumns: unDoneColumns\"\n    :data-source=\"data\"\n    :pagination=\"pagination\"\n    :scroll=\"{ y: 600, x: 1500 }\"\n    bordered\n  >\n    <div slot=\"belongBusiness\" slot-scope=\"text, record\">\n        <a-tag\n        :color=\"record.content === 'Content' ? 'volcano' : 'green'\"\n        >\n        {{ record.content }}\n        </a-tag>\n    </div>\n\n    <div slot=\"is-finished\" slot-scope=\"text, record\">\n        <a-icon :type=\"record.is_finished ? 'check-circle': 'close-circle'\" \n        theme=\"twoTone\" \n        style=\"font-size: 24px;margin-left:10px\"\n        :two-tone-color=\"record.is_finished ? 'green': 'red'\"></a-icon>\n    </div>\n  </a-table>\n\n</template>\n<script>\n\nimport request from '@/utils/request';\n// import {message} from 'ant-design-vue';\n\nexport default {\n  data() {\n    return {\n      data: [],\n      queryplancore: \"/api/plan/queryplancore?\",\n      pageid: 1,\n      coreColumns: [],\n      unDoneColumns: [],\n      pagination: {\n        total: 10\n      },\n    };\n  },\n  props: [\"columns\", \"tabType\", \"usersearch\"],\n  \n  watch:{\n      // 监听tabType变化，如果有变化则重新请求\n      tabType(){\n            this.pageid = 1;\n            this.baseRequestFunc(this.pageid);\n      },\n      usersearch(){\n          this.baseUsersearch = this.usersearch;\n      }\n  },\n\n  created(){\n      console.log(this.columns);\n      console.log(this.tabType);\n      if (this.tabType === \"coreData\") {\n          this.coreColumns.push({\n              title: '匹配信息',\n              dataIndex: 'match_infomation',\n              key: 'match_infomation',\n              scopedSlots: { customRender: \"imatch-infomation\" }\n          })\n          this.coreColumns.push({\n              title: '是否完成',\n              dataIndex: 'is_finished',\n              key: 'is_finished',\n              width: 100,\n              fixed: 'right',\n              scopedSlots: { customRender: \"is-finished\" }\n          });\n          this.coreColumns = [...this.columns, ...this.coreColumns]\n          console.log(this.coreColumns);\n      }else if (this.tabType === \"unDoneCore\") {\n          this.unDoneColumns = this.columns\n      }\n      this.baseRequestFunc(this.pageid);\n  },\n  methods: {\n      getQueryPlanCoreURL(pageId) {\n          var baseQueryUrl = this.queryplancore + \"tabtype=\" + this.tabType + \"&pageid=\" + pageId;\n          if (this.baseUsersearch) {\n              baseQueryUrl = baseQueryUrl + \"&usersearch=\"+this.baseUsersearch\n          }\n          return baseQueryUrl\n      },\n\n      changePage(e) {\n          var subStr = new RegExp(/pageid=\\d{0,3}/);\n          this.coreInterUrl = this.coreInterUrl.replace(\n              subStr,\n              \"pageid=\" + e.current\n              );\n          request({\n              url: this.coreInterUrl,\n              method: \"GET\"\n          }).then(res => {\n            if (res.data.code === 230003) {\n                console.log(res.data.data.data);\n                this.data = res.data.data.data;\n                this.pagination.total = res.data.data.totolPages * 10;\n                }\n            });\n      },\n\n      baseRequestFunc(pageid){\n          request({\n              url: this.getQueryPlanCoreURL(pageid),\n              method: \"GET\"\n          }).then(res => {\n              if (res.data.code === 310000) {\n                  console.log(res.data.data.data);\n                  this.data = res.data.data.data;\n                  this.pagination.total = res.data.data.totolPages * 10;\n              }else {\n                  this.data = [];\n              }\n          });\n      },\n    },\n};\n</script>\n"]}]}