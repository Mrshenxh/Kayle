{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/draggable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/draggable.vue","mtime":1608531531108},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbGlzdG1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9tb2R1bGVsaXN0L2xpc3Rtb2RhbCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8qKgogICAgICAgKiBpc1Nob3dNb3JlOiDmo4DmtYvmmK/lkKbopoHlvLnnqpflsZXnpLrmn5DkuKrljZXni6zooYznmoTmlbDmja7vvIzkvpvorqHnrpflsZ7mgKflkozlrZDnu4Tku7bnm5HlkKzkvb/nlKgKICAgICAgICogbm93Q29sdW1uczog54K55Ye75p+l55yL5pe277yM5b2T5YmN6YCJ5Lit55qEY29sdW1ucwogICAgICAgKiBkYXRhU291cmNlOiDph43mlrDlrprkuYnmlbDmja7mjqXmlLblj4LmlbAg5L6/5LqO6L+b6KGM5Y+Y5pu0CiAgICAgICAqLwogICAgICBpc1Nob3dNb3JlOiBmYWxzZSwKICAgICAgbm93Q29sdW1uczp7fSwKICAgICAgZGF0YVNvdXJjZTpbXSwKICAgIH0KICB9LAogIC8qKiAKICAgKiDlsZ7mgKflkKvkuYkKICAgKiBkYXRhOiDmiYDmnInmlbDmja7nmoTlgLwKICAgKiBjb2x1bW5zOiDliJfooajnrKzkuIDooYznmoTlgLwKICAgKiByb3dTZWxlY3Rpb246IOetm+mAieeKtuaAgeS4i++8jOeUqOaIt+mAieS4reihjAogICAqICovIAogIHByb3BzOiBbJ2NvbHVtbnMnLCAncm93U2VsZWN0aW9uJyxdLAogIGNvbXB1dGVkOnsKICAgIC8vIOiuoeeul+WxnuaAp+WQq+S5ie+8muajgOa1i+aYr+WQpuimgeW8ueeql+WxleekuuafkOS4quWNleeLrOihjOeahOaVsOaNrgogICAgc2hvd0VhY2hNb2RvbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNTaG93TW9yZTsKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBsaXN0bW9kYWwsCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpgJrov4flrZDnu4Tku7ZsaXN0bW9kYWzlm57osIPmlLnlj5hpc1Nob3dNb3Jl55qE5YC8CiAgICBjaGFuZ2VTaG93TW9kb2wocGFyYW1zKXsKICAgICAgdGhpcy5pc1Nob3dNb3JlID0gcGFyYW1zOwogICAgfSwKICAgIC8vIGNlbGzkuK0g54K55Ye74oCc5p+l55yL4oCd5pa55rOV6LCD55SoCiAgICBzaG93TW9yZURhdGEocmVjb3JkS2V5KXsKICAgICAgY29uc29sZS5sb2coInRlc3QxIik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29sdW1ucyk7CiAgICAgIHRoaXMuaXNTaG93TW9yZSA9IHRydWU7CiAgICAgIHRoaXMubm93Q29sdW1ucyA9IHRoaXMuZGF0YVNvdXJjZVtyZWNvcmRLZXldOwogICAgfSwKICAgIAogICAgLy8g5qC55o2ucmVjb3JkLmtleeiOt+WPluW9k+WJjeaVsOaNruWcqOaVsOe7hOS4reeahGluZGV4CiAgICBnZXREYXRhU291cmNlSW5kZXhCeVJlY29yZEtleShyZWNvcmRLZXkpewogICAgICBmb3IgKGxldCBub3dJbmRleCA9IDA7IG5vd0luZGV4IDwgdGhpcy5kYXRhU291cmNlLmxlbmd0aDsgbm93SW5kZXgrKykgewogICAgICAgIGNvbnN0IG5vd0VsZW1lbnQgPSB0aGlzLmRhdGFTb3VyY2Vbbm93SW5kZXhdOwogICAgICAgIGlmIChub3dFbGVtZW50LmtleSA9PT0gcmVjb3JkS2V5KSB7CiAgICAgICAgICByZXR1cm4gbm93SW5kZXg7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIC8qKgogICAgICog5pa55rOV5a6a5LmJOiDojrflj5bmn5DkuKrmjqXlj6PlrZfmrrXmmK/lkKblj6/op4EKICAgICAqIOaOpeWPo+Wtl+auteWumuS5iQogICAgICogcmVjb3JkS2V5OiDlr7nlupTmn5DkuKrmlbDmja7ph4znmoRrZXkKICAgICAqIGRhdGFUeXBlOiDlr7nlupTmjqXlj6PlrZfmrrXvvIzlpoLigJxpbnRlcmZhY2VQYXRo4oCdCiAgICAgKiBjbGlja09ySG92ZXI6IOaJi+WKv+aTjeS9nO+8jHZpc2lhYmxl5ZKMY2xpY2tWaXNpYWJsZQogICAgICovCiAgICBnZXRTb21lb25lSW50ZXJGYWNlSXNWaXNpYmxlKHJlY29yZEtleSwgZGF0YVR5cGUsIGNsaWNrT3JIb3Zlcil7CiAgICAgIGNvbnN0IG5vd0luZGV4ID0gdGhpcy5nZXREYXRhU291cmNlSW5kZXhCeVJlY29yZEtleShyZWNvcmRLZXkpOwogICAgICBpZiAobm93SW5kZXggIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzW2RhdGFUeXBlXVtjbGlja09ySG92ZXJdCiAgICAgIH0KICAgIH0sCgogICAgLy8g54K55Ye74oCc6ZqQ6JeP4oCd5pa55rOV6LCD55SoCiAgICBoaWRlKHJlY29yZEtleSwgYXR0cmlidXRlKSB7CiAgICAgIGNvbnN0IG5vd0luZGV4ID0gdGhpcy5nZXREYXRhU291cmNlSW5kZXhCeVJlY29yZEtleShyZWNvcmRLZXkpOwogICAgICBpZiAobm93SW5kZXggIT09IG51bGwpIHsKICAgICAgICB0aGlzLmRhdGFTb3VyY2Vbbm93SW5kZXhdLnBvcG92ZXJTdGF0dXNbYXR0cmlidXRlXS5jbGlja1Zpc2lhYmxlID0gZmFsc2U7IAogICAgICB9CiAgICB9LAogICAgLy8g5YiX6KGo5Lit54K55Ye74oCc5pu05aSa4oCd5pa55rOV6LCD55SoCiAgICBjbGlja01vcmUocmVjb3JkS2V5LCBhdHRyaWJ1dGUpIHsKICAgICAgY29uc3Qgbm93SW5kZXggPSB0aGlzLmdldERhdGFTb3VyY2VJbmRleEJ5UmVjb3JkS2V5KHJlY29yZEtleSk7CiAgICAgIGlmIChub3dJbmRleCAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuZGF0YVNvdXJjZVtub3dJbmRleF0ucG9wb3ZlclN0YXR1c1thdHRyaWJ1dGVdLmNsaWNrVmlzaWFibGUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g5YiG5Yir6YCa6L+H5omL5Yq/5ZKM54K55Ye75pON5L2c77yM5bCG6YCJ5Lita2V55a+55bqU55qE5bGe5oCn5Y+W5Y+N5pON5L2cCiAgICBoYW5kbGVIb3ZlckNoYW5nZShub3dJbmRleCwgYXR0cmlidXRlKSB7CiAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzICYmIHRoaXMuZGF0YVNvdXJjZVtub3dJbmRleF0ucG9wb3ZlclN0YXR1c1thdHRyaWJ1dGVdLmNsaWNrVmlzaWFibGUgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzW2F0dHJpYnV0ZV0udmlzaWFibGUgPSAhdGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzW2F0dHJpYnV0ZV0udmlzaWFibGU7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzW2F0dHJpYnV0ZV0udmlzaWFibGUpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2xpY2tDaGFuZ2UocmVjb3JkS2V5LCBhdHRyaWJ1dGUpIHsKICAgICAgY29uc3Qgbm93SW5kZXggPSB0aGlzLmdldERhdGFTb3VyY2VJbmRleEJ5UmVjb3JkS2V5KHJlY29yZEtleSk7CiAgICAgIGlmIChub3dJbmRleCAhPT0gbnVsbCkgewogICAgICAgIGlmIChhdHRyaWJ1dGUgaW4gdGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzKSB7CiAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Vbbm93SW5kZXhdLnBvcG92ZXJTdGF0dXNbYXR0cmlidXRlXS5jbGlja1Zpc2lhYmxlID0gIXRoaXMuZGF0YVNvdXJjZVtub3dJbmRleF0ucG9wb3ZlclN0YXR1c1thdHRyaWJ1dGVdLmNsaWNrVmlzaWFibGU7CiAgICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlW25vd0luZGV4XS5wb3BvdmVyU3RhdHVzW2F0dHJpYnV0ZV0uY2xpY2tWaXNpYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Vbbm93SW5kZXhdLnBvcG92ZXJTdGF0dXNbYXR0cmlidXRlXS52aXNpYWJsZSA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfSAKICAgICAgfQogICAgfQogIH0sCn0K"},{"version":3,"sources":["draggable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"draggable.vue","sourceRoot":"src/components/modulelist","sourcesContent":["<template>\n<div>\n  <a-table :columns=\"columns\" :data-source=\"dataSource\" :scroll=\"{ x: 1500, y: 300 }\" :rowSelection=\"rowSelection\">\n    <div slot=\"interface-path\" slot-scope=\" text, record\">\n      <a-tooltip style=\"width: 200px\" title=\"点击查看完整URL\" trigger=\"hover\" \n      :visible=\"getSomeoneInterFaceIsVisible(getDataSourceIndexByRecordKey(record.key), 'interfacePath', 'visiable')\"\n      @visibleChange=\"handleHoverChange(getDataSourceIndexByRecordKey(record.key), 'interfacePath')\"\n      >\n        <a-popover\n        title=\"接口路径\"\n        trigger=\"click\"\n        :visible=\"getSomeoneInterFaceIsVisible(getDataSourceIndexByRecordKey(record.key), 'interfacePath', 'clickVisiable')\"\n        @visibleChange=\"handleClickChange(record.key, 'interfacePath')\"\n        >\n          <div slot=\"content\">\n            <div>{{ dataSource[getDataSourceIndexByRecordKey(record.key)].interfacePath }}</div>\n            <a @click=\"hide(record.key, 'interfacePath')\">Close</a>\n          </div>\n          <p v-if=\"JSON.stringify(dataSource[getDataSourceIndexByRecordKey(record.key)].interfacePath).length > 50\">\n          {{ JSON.stringify(dataSource[getDataSourceIndexByRecordKey(record.key)].interfacePath).substring(0,50) + '...' }}\n        </p>\n        <p v-else>\n          {{ JSON.stringify(dataSource[getDataSourceIndexByRecordKey(record.key)].interfacePath) }}\n        </p>\n        </a-popover>\n      </a-tooltip>\n    </div>\n\n    <div slot=\"request-data\" slot-scope=\"text, record\">\n      <a-popover\n      title=\"接口请求参数\"\n      trigger=\"click\"\n      :visible=\"dataSource[record.key].popoverStatus.requestData.clickVisiable\"\n      >\n        <div slot=\"content\">\n          <div>{{ dataSource[record.key].requestData }}</div>\n          <a @click=\"hide(record.key, 'requestData')\">Close</a>\n        </div>\n      \n        <p v-if=\"JSON.stringify(dataSource[record.key].requestData).length > 50\">\n          {{ JSON.stringify(dataSource[record.key].requestData).substring(0,50) + '...' }}\n          <a @click=\"clickMore(record.key, 'requestData')\">更多</a>\n        </p>\n        <p v-else>\n          {{ JSON.stringify(dataSource[record.key].requestData) }}\n        </p>\n      </a-popover>\n    </div>\n\n    <div slot=\"response-data\" slot-scope=\"text, record\">\n      <a-popover\n      title=\"接口返回数据\"\n      trigger=\"click\"\n      :visible=\"dataSource[record.key].popoverStatus.responseData.clickVisiable\"\n      >\n        <div slot=\"content\">\n          <div>{{ JSON.stringify(dataSource[record.key].responseData) }}</div>\n          <a @click=\"hide(record.key, 'responseData')\">Close</a>\n        </div>\n      \n        <p v-if=\"JSON.stringify(dataSource[record.key].responseData).length > 50\">\n          {{ JSON.stringify(dataSource[record.key].responseData).substring(0,50) + '...' }}\n          <a @click=\"clickMore(record.key, 'responseData')\">更多</a>\n        </p>\n        <p v-else>\n          {{ JSON.stringify(dataSource[record.key].responseData) }}\n        </p>\n      </a-popover>\n    </div>\n\n  <div slot=\"action\" slot-scope=\" text, record\">\n    <a @click=\"showMoreData(record.key)\">查看详情</a>\n  </div>\n  </a-table>\n  <listmodal :visible=\"showEachModol\" @changeShowEachModol=\"changeShowModol\"></listmodal>\n\n</div>\n  \n</template>\n\n<script>\n\nimport listmodal from '@/components/modulelist/listmodal';\n\nexport default {\n  data() {\n    return {\n      /**\n       * isShowMore: 检测是否要弹窗展示某个单独行的数据，供计算属性和子组件监听使用\n       * nowColumns: 点击查看时，当前选中的columns\n       * dataSource: 重新定义数据接收参数 便于进行变更\n       */\n      isShowMore: false,\n      nowColumns:{},\n      dataSource:[],\n    }\n  },\n  /** \n   * 属性含义\n   * data: 所有数据的值\n   * columns: 列表第一行的值\n   * rowSelection: 筛选状态下，用户选中行\n   * */ \n  props: ['columns', 'rowSelection',],\n  computed:{\n    // 计算属性含义：检测是否要弹窗展示某个单独行的数据\n    showEachModol() {\n      return this.isShowMore;\n    },\n  },\n  components: {\n    listmodal,\n  },\n  methods: {\n    // 通过子组件listmodal回调改变isShowMore的值\n    changeShowModol(params){\n      this.isShowMore = params;\n    },\n    // cell中 点击“查看”方法调用\n    showMoreData(recordKey){\n      console.log(\"test1\");\n      console.log(this.columns);\n      this.isShowMore = true;\n      this.nowColumns = this.dataSource[recordKey];\n    },\n    \n    // 根据record.key获取当前数据在数组中的index\n    getDataSourceIndexByRecordKey(recordKey){\n      for (let nowIndex = 0; nowIndex < this.dataSource.length; nowIndex++) {\n        const nowElement = this.dataSource[nowIndex];\n        if (nowElement.key === recordKey) {\n          return nowIndex;\n        }\n      }\n      return null;\n    },\n    /**\n     * 方法定义: 获取某个接口字段是否可见\n     * 接口字段定义\n     * recordKey: 对应某个数据里的key\n     * dataType: 对应接口字段，如“interfacePath”\n     * clickOrHover: 手势操作，visiable和clickVisiable\n     */\n    getSomeoneInterFaceIsVisible(recordKey, dataType, clickOrHover){\n      const nowIndex = this.getDataSourceIndexByRecordKey(recordKey);\n      if (nowIndex !== null) {\n        return this.dataSource[nowIndex].popoverStatus[dataType][clickOrHover]\n      }\n    },\n\n    // 点击“隐藏”方法调用\n    hide(recordKey, attribute) {\n      const nowIndex = this.getDataSourceIndexByRecordKey(recordKey);\n      if (nowIndex !== null) {\n        this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable = false; \n      }\n    },\n    // 列表中点击“更多”方法调用\n    clickMore(recordKey, attribute) {\n      const nowIndex = this.getDataSourceIndexByRecordKey(recordKey);\n      if (nowIndex !== null) {\n        this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable = true;\n      }\n    },\n    // 分别通过手势和点击操作，将选中key对应的属性取反操作\n    handleHoverChange(nowIndex, attribute) {\n      if (attribute in this.dataSource[nowIndex].popoverStatus && this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable === false) {\n        this.dataSource[nowIndex].popoverStatus[attribute].visiable = !this.dataSource[nowIndex].popoverStatus[attribute].visiable;\n        console.log(this.dataSource[nowIndex].popoverStatus[attribute].visiable);\n      }\n    },\n    handleClickChange(recordKey, attribute) {\n      const nowIndex = this.getDataSourceIndexByRecordKey(recordKey);\n      if (nowIndex !== null) {\n        if (attribute in this.dataSource[nowIndex].popoverStatus) {\n          this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable = !this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable;\n          if (this.dataSource[nowIndex].popoverStatus[attribute].clickVisiable === true) {\n            this.dataSource[nowIndex].popoverStatus[attribute].visiable = false\n          }\n        } \n      }\n    }\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n</style>"]}]}