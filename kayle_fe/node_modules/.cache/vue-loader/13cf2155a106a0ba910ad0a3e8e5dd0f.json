{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/historyplantable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/historyplantable.vue","mtime":1611912960092},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICJhbnQtZGVzaWduLXZ1ZSI7CmltcG9ydCB7IGdldEJ1c2luZXNzQ29sb3IgfSBmcm9tICJAL3V0aWxzL2NvbW1vbmNvbmZpZyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBxdWVyeXBsYW5jb3JlOiAiL2FwaS9wbGFuL2hpc3RvcnlwbGFuLyIsCiAgICAgIHBsYW5JZDogMCwKICAgICAgY29sdW1uczogWwogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5o6l5Y+j5q2j5YiZIiwKICAgICAgICAgIGRhdGFJbmRleDogImludGVyZmFjZV9yZWd1bGFyIiwKICAgICAgICAgIGtleTogImludGVyZmFjZV9yZWd1bGFyIiwKICAgICAgICAgIHdpZHRoOiAzMDAsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbnRlcmZhY2VfcmVndWxhciIgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmjqXlj6NJRCIsCiAgICAgICAgICBkYXRhSW5kZXg6ICJpbnRlcmZhY2VfaWQiLAogICAgICAgICAga2V5OiAiaW50ZXJmYWNlX2lkIiwKICAgICAgICAgIHdpZHRoOiAyMDAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi6LSf6LSj5Lq6IiwKICAgICAgICAgIGRhdGFJbmRleDogInVzZXJfbmFtZSIsCiAgICAgICAgICBrZXk6ICJ1c2VyX25hbWUiLAogICAgICAgICAgd2lkdGg6IDEwMAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmiYDlsZ7kuJrliqEiLAogICAgICAgICAgZGF0YUluZGV4OiAiY29udGVudCIsCiAgICAgICAgICBrZXk6ICJjb250ZW50IiwKICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJiZWxvbmdCdXNpbmVzcyIgfQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLmjqXlj6Pmj4/ov7AiLAogICAgICAgICAgZGF0YUluZGV4OiAiaW50ZXJmYWNlX2Rlc2MiLAogICAgICAgICAga2V5OiAiaW50ZXJmYWNlX2Rlc2MiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuWMuemFjeS/oeaBryjns7vnu5/jgIHniYjmnKzjgIHmnLrlnospIiwKICAgICAgICAgIGRhdGFJbmRleDogIm1hdGNoX2luZm9tYXRpb24iLAogICAgICAgICAga2V5OiAibWF0Y2hfaW5mb21hdGlvbiIsCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbWF0Y2gtaW5mb21hdGlvbiIgfSwKICAgICAgICAgIHdpZHRoOiAzMDAKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5piv5ZCm5a6M5oiQIiwKICAgICAgICAgIGRhdGFJbmRleDogImlzX2ZpbmlzaGVkIiwKICAgICAgICAgIGtleTogImlzX2ZpbmlzaGVkIiwKICAgICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgICAvLyBmaXhlZDogInJpZ2h0IiwKICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImlzLWZpbmlzaGVkIiB9CiAgICAgICAgfQogICAgICBdLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgdG90YWw6IDEwCiAgICAgIH0sCiAgICAgIGlzU3Bpbm5pbmc6IGZhbHNlCiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKx0YWJUeXBl5Y+Y5YyW77yM5aaC5p6c5pyJ5Y+Y5YyW5YiZ6YeN5paw6K+35rGCCiAgICB0YWJUeXBlKHZhbCwgb2xkVmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgIGNvbnNvbGUubG9nKG9sZFZhbCk7CiAgICAgIGlmICh2YWwgIT09IG9sZFZhbCkgewogICAgICAgIHRoaXMucGFnZWlkID0gMTsKICAgICAgICBjb25zb2xlLmxvZygidGFiVHlwZSIpOwogICAgICAgIHRoaXMuYmFzZVJlcXVlc3RGdW5jKHRoaXMucGFnZWlkKTsKICAgICAgfQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldFF1ZXJ5UGxhbkNvcmVVUkwocGxhbklkLCBwYWdlSWQpIHsKICAgICAgdmFyIGJhc2VRdWVyeVVybCA9IHRoaXMucXVlcnlwbGFuY29yZSArIHBsYW5JZCArICI/cGFnZWlkPSIgKyBwYWdlSWQ7CiAgICAgIHJldHVybiBiYXNlUXVlcnlVcmw7CiAgICB9LAogICAgYmFzZVJlcXVlc3RGdW5jKHBsYW5JZCwgcGFnZUlkKSB7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogdGhpcy5nZXRRdWVyeVBsYW5Db3JlVVJMKHBsYW5JZCwgcGFnZUlkKSwKICAgICAgICBtZXRob2Q6ICJHRVQiCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMzYwMDAwKSB7CiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsUGFnZXMgKiAxMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kYXRhID0gW107CiAgICAgICAgICBtZXNzYWdlLndhcm5pbmcocmVzLmRhdGEubXNnKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wbGFuSWQgPSBwbGFuSWQ7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVBhZ2UoZSkgewogICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgdGhpcy5iYXNlUmVxdWVzdEZ1bmModGhpcy5wbGFuSWQsIGUuY3VycmVudCk7CiAgICB9LAogICAgcmV0dXJuQnVzQ29sb3IocmVjb3JkKSB7CiAgICAgIHJldHVybiBnZXRCdXNpbmVzc0NvbG9yKHJlY29yZC5jb250ZW50KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["historyplantable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"historyplantable.vue","sourceRoot":"src/components/testplan","sourcesContent":["<template>\n  <div>\n    <a-spin :spinning=\"isSpinning\" tip=\"Loading...\">\n      <a-table\n        :columns=\"columns\"\n        :data-source=\"data\"\n        :pagination=\"pagination\"\n        :scroll=\"{ y: 300, x: 1500 }\"\n        @change=\"changePage\"\n        bordered\n      >\n        <div slot=\"belongBusiness\" slot-scope=\"text, record\">\n          <a-tag :color=\"returnBusColor(record)\">\n            {{ record.content }}\n          </a-tag>\n        </div>\n\n        <div slot=\"interface_regular\" slot-scope=\"text, record\">\n          <div>\n            {{ record.interface_regular }}\n          </div>\n        </div>\n\n        <div slot=\"imatch-infomation\" slot-scope=\"text, record\">\n          <div\n            v-for=\"(matchDict, index) in record.match_infomation\"\n            :key=\"index\"\n          >\n            <a-avatar shape=\"square\" icon=\"snippets\" size=\"small\" />\n            <a-tag color=\"pink\" style=\"margin-left:10px\">\n              {{ matchDict.inter_os }}\n            </a-tag>\n            <a-tag color=\"red\">\n              {{ matchDict.inter_release }}\n            </a-tag>\n            <a-tag color=\"orange\">\n              {{ matchDict.inter_brand }}\n            </a-tag>\n          </div>\n        </div>\n\n        <div slot=\"is-finished\" slot-scope=\"text, record\">\n          <a-icon\n            :type=\"record.is_finished ? 'check-circle' : 'close-circle'\"\n            theme=\"twoTone\"\n            style=\"font-size: 24px;margin-left:15px\"\n            :two-tone-color=\"record.is_finished ? 'green' : 'red'\"\n          ></a-icon>\n        </div>\n      </a-table>\n    </a-spin>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\nimport { message } from \"ant-design-vue\";\nimport { getBusinessColor } from \"@/utils/commonconfig\";\n\nexport default {\n  data() {\n    return {\n      data: [],\n      queryplancore: \"/api/plan/historyplan/\",\n      planId: 0,\n      columns: [\n        {\n          title: \"接口正则\",\n          dataIndex: \"interface_regular\",\n          key: \"interface_regular\",\n          width: 300,\n          scopedSlots: { customRender: \"interface_regular\" }\n        },\n        {\n          title: \"接口ID\",\n          dataIndex: \"interface_id\",\n          key: \"interface_id\",\n          width: 200\n        },\n        {\n          title: \"负责人\",\n          dataIndex: \"user_name\",\n          key: \"user_name\",\n          width: 100\n        },\n        {\n          title: \"所属业务\",\n          dataIndex: \"content\",\n          key: \"content\",\n          width: 100,\n          scopedSlots: { customRender: \"belongBusiness\" }\n        },\n        {\n          title: \"接口描述\",\n          dataIndex: \"interface_desc\",\n          key: \"interface_desc\"\n        },\n        {\n          title: \"匹配信息(系统、版本、机型)\",\n          dataIndex: \"match_infomation\",\n          key: \"match_infomation\",\n          scopedSlots: { customRender: \"imatch-infomation\" },\n          width: 300\n        },\n        {\n          title: \"是否完成\",\n          dataIndex: \"is_finished\",\n          key: \"is_finished\",\n          width: 100,\n          // fixed: \"right\",\n          scopedSlots: { customRender: \"is-finished\" }\n        }\n      ],\n      pagination: {\n        total: 10\n      },\n      isSpinning: false\n    };\n  },\n\n  watch: {\n    // 监听tabType变化，如果有变化则重新请求\n    tabType(val, oldVal) {\n      console.log(val);\n      console.log(oldVal);\n      if (val !== oldVal) {\n        this.pageid = 1;\n        console.log(\"tabType\");\n        this.baseRequestFunc(this.pageid);\n      }\n    }\n  },\n\n  methods: {\n    getQueryPlanCoreURL(planId, pageId) {\n      var baseQueryUrl = this.queryplancore + planId + \"?pageid=\" + pageId;\n      return baseQueryUrl;\n    },\n    baseRequestFunc(planId, pageId) {\n      request({\n        url: this.getQueryPlanCoreURL(planId, pageId),\n        method: \"GET\"\n      }).then(res => {\n        if (res.data.code === 360000) {\n          this.data = res.data.data.data;\n          this.pagination.total = res.data.data.totalPages * 10;\n        } else {\n          this.data = [];\n          message.warning(res.data.msg);\n        }\n        this.planId = planId;\n      });\n    },\n    changePage(e) {\n      console.log(e);\n      this.baseRequestFunc(this.planId, e.current);\n    },\n    returnBusColor(record) {\n      return getBusinessColor(record.content);\n    }\n  }\n};\n</script>\n"]}]}