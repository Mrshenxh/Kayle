{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/draggable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/draggable.vue","mtime":1606275465643},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVEcmFnZ2FibGVSZXNpemFibGUgZnJvbSAndnVlLWRyYWdnYWJsZS1yZXNpemFibGUnOwoKVnVlLmNvbXBvbmVudCgndnVlLWRyYWdnYWJsZS1yZXNpemFibGUnLCBWdWVEcmFnZ2FibGVSZXNpemFibGUpOwoKY29uc3QgZHJhZ2dpbmdNYXAgPSB7fTsKY29sdW1ucy5mb3JFYWNoKGNvbCA9PiB7CiAgZHJhZ2dpbmdNYXBbY29sLmtleV0gPSBjb2wud2lkdGg7Cn0pOwpjb25zdCBkcmFnZ2luZ1N0YXRlID0gVnVlLm9ic2VydmFibGUoZHJhZ2dpbmdNYXApOwpjb25zdCBSZXNpemVhYmxlVGl0bGUgPSAoaCwgcHJvcHMsIGNoaWxkcmVuKSA9PiB7CiAgbGV0IHRoRG9tID0gbnVsbDsKICBjb25zdCB7IGtleSwgLi4ucmVzdFByb3BzIH0gPSBwcm9wczsKICBjb25zdCBjb2wgPSBjb2x1bW5zLmZpbmQoY29sID0+IHsKICAgIGNvbnN0IGsgPSBjb2wuZGF0YUluZGV4IHx8IGNvbC5rZXk7CiAgICByZXR1cm4gayA9PT0ga2V5OwogIH0pOwogIGlmICghY29sLndpZHRoKSB7CiAgICByZXR1cm4gPHRoIHsuLi5yZXN0UHJvcHN9PntjaGlsZHJlbn08L3RoPjsKICB9CiAgY29uc3Qgb25EcmFnID0geCA9PiB7CiAgICBkcmFnZ2luZ1N0YXRlW2tleV0gPSAwOwogICAgY29sLndpZHRoID0gTWF0aC5tYXgoeCwgMSk7CiAgfTsKCiAgY29uc3Qgb25EcmFnc3RvcCA9ICgpID0+IHsKICAgIGRyYWdnaW5nU3RhdGVba2V5XSA9IHRoRG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogIH07CiAgcmV0dXJuICgKICAgIDx0aCB7Li4ucmVzdFByb3BzfSB2LWFudC1yZWY9e3IgPT4gKHRoRG9tID0gcil9IHdpZHRoPXtjb2wud2lkdGh9IGNsYXNzPSJyZXNpemUtdGFibGUtdGgiPgogICAgICB7Y2hpbGRyZW59CiAgICAgIDx2dWUtZHJhZ2dhYmxlLXJlc2l6YWJsZQogICAgICAgIGtleT17Y29sLmtleX0KICAgICAgICBjbGFzcz0idGFibGUtZHJhZ2dhYmxlLWhhbmRsZSIKICAgICAgICB3PXsxMH0KICAgICAgICB4PXtkcmFnZ2luZ1N0YXRlW2tleV0gfHwgY29sLndpZHRofQogICAgICAgIHo9ezF9CiAgICAgICAgYXhpcz0ieCIKICAgICAgICBkcmFnZ2FibGU9e3RydWV9CiAgICAgICAgcmVzaXphYmxlPXtmYWxzZX0KICAgICAgICBvbkRyYWdnaW5nPXtvbkRyYWd9CiAgICAgICAgb25EcmFnc3RvcD17b25EcmFnc3RvcH0KICAgICAgPjwvdnVlLWRyYWdnYWJsZS1yZXNpemFibGU+CiAgICA8L3RoPgogICk7Cn07Cgpjb25zb2xlLmxvZyhkcmFnZ2luZ1N0YXRlKTsKCmNvbnN0IGNvbHVtbnMgPSBbCiAgeyB0aXRsZTogJ+aOpeWPo3BhdGgnLCB3aWR0aDogMTAwLCBkYXRhSW5kZXg6ICduYW1lJywga2V5OiAnbmFtZScsIGZpeGVkOiAnbGVmdCcgfSwKICB7IHRpdGxlOiAn6K+35rGC5pa55byPJywgd2lkdGg6IDEwMCwgZGF0YUluZGV4OiAnYWdlJywga2V5OiAnYWdlJywgZml4ZWQ6ICdsZWZ0JyB9LAogIHsgdGl0bGU6ICfor7fmsYLmlbDmja4nLCBkYXRhSW5kZXg6ICdhZGRyZXNzJywga2V5OiAnMScsIHdpZHRoOiAxNTAgfSwKICB7IHRpdGxlOiAn6K+35rGCSGVhZGVyJywgZGF0YUluZGV4OiAnYWRkcmVzcycsIGtleTogJzInLCB3aWR0aDogMTUwIH0sCiAgeyB0aXRsZTogJ+ivt+axguiAl+aXticsIGRhdGFJbmRleDogJ2FkZHJlc3MnLCBrZXk6ICczJywgd2lkdGg6IDE1MCB9LAogIHsgdGl0bGU6ICfov5Tlm55TdGF0dXMnLCBkYXRhSW5kZXg6ICdhZGRyZXNzJywga2V5OiAnNCcsIHdpZHRoOiAxNTAgfSwKICB7IHRpdGxlOiAn6L+U5ZueSGVhZGVyJywgZGF0YUluZGV4OiAnYWRkcmVzcycsIGtleTogJzUnLCB3aWR0aDogMTUwIH0sCiAgeyB0aXRsZTogJ+i/lOWbnkRhdGEnLCBkYXRhSW5kZXg6ICdhZGRyZXNzJywga2V5OiAnNicsIHdpZHRoOiAxNTAgfSwKICB7IHRpdGxlOiAn6K+35rGCU2l6ZScsIGRhdGFJbmRleDogJ2FkZHJlc3MnLCBrZXk6ICc3Jywgd2lkdGg6IDE1MCB9LAogIHsgdGl0bGU6ICfov5Tlm55TaXplJywgZGF0YUluZGV4OiAnYWRkcmVzcycsIGtleTogJzgnIH0sCiAgewogICAgdGl0bGU6ICdBY3Rpb24nLAogICAga2V5OiAnb3BlcmF0aW9uJywKICAgIGZpeGVkOiAncmlnaHQnLAogICAgd2lkdGg6IDEwMCwKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogWydhY3Rpb24nXSx9LAogIH0sCl07Cgpjb25zdCBkYXRhID0gW107CmZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICBkYXRhLnB1c2goewogICAga2V5OiBpLAogICAgbmFtZTogYEVkcndhcmQgJHtpfWAsCiAgICBhZ2U6IDMyLAogICAgYWRkcmVzczogYExvbmRvbiBQYXJrIG5vLiAke2l9YCwKICB9KTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICB0aGlzLmNvbXBvbmVudHMgPSB7CiAgICAgIGhlYWRlcjogewogICAgICAgIGNlbGw6IFJlc2l6ZWFibGVUaXRsZSwKICAgICAgfSwKICAgIH07CiAgICByZXR1cm4gewogICAgICBkYXRhLAogICAgICBjb2x1bW5zLAogICAgICBleHBhbmQ6IGZhbHNlLAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcywgeyBuYW1lOiAnYWR2YW5jZWRfc2VhcmNoJyB9KSwKICAgICAgcGF0aDogIndzOi8vMTI3LjAuMC4xOjMzMzMvdGVtcGludGVyL3RlbXBzb2NrZXQvZmxvdy8xMDAwMDAwMCIsCiAgICAgIHNvY2tldDoiIiwKICAgICAgaGFzX21pdG1wcm94eTogZmFsc2UsCiAgICAgIGNyZWF0ZVNob3c6IHRydWUsCiAgICAgIG1pdG1fbWVzc2FnZTp7fSwKICAgIH07CiAgfSwKfQo="},{"version":3,"sources":["draggable.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"draggable.vue","sourceRoot":"src/components/modulelist","sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"data\" :scroll=\"{ x: 1500, y: 300 }\" >\n        <div slot=\"action\">\n          <a @click=\"test1\">action</a>\n          <!-- <a @click=\"test2\">  action1</a> -->\n        </div>\n  </a-table>\n</template>\n\n<script>\n\nimport Vue from 'vue';\nimport VueDraggableResizable from 'vue-draggable-resizable';\n\nVue.component('vue-draggable-resizable', VueDraggableResizable);\n\nconst draggingMap = {};\ncolumns.forEach(col => {\n  draggingMap[col.key] = col.width;\n});\nconst draggingState = Vue.observable(draggingMap);\nconst ResizeableTitle = (h, props, children) => {\n  let thDom = null;\n  const { key, ...restProps } = props;\n  const col = columns.find(col => {\n    const k = col.dataIndex || col.key;\n    return k === key;\n  });\n  if (!col.width) {\n    return <th {...restProps}>{children}</th>;\n  }\n  const onDrag = x => {\n    draggingState[key] = 0;\n    col.width = Math.max(x, 1);\n  };\n\n  const onDragstop = () => {\n    draggingState[key] = thDom.getBoundingClientRect().width;\n  };\n  return (\n    <th {...restProps} v-ant-ref={r => (thDom = r)} width={col.width} class=\"resize-table-th\">\n      {children}\n      <vue-draggable-resizable\n        key={col.key}\n        class=\"table-draggable-handle\"\n        w={10}\n        x={draggingState[key] || col.width}\n        z={1}\n        axis=\"x\"\n        draggable={true}\n        resizable={false}\n        onDragging={onDrag}\n        onDragstop={onDragstop}\n      ></vue-draggable-resizable>\n    </th>\n  );\n};\n\nconsole.log(draggingState);\n\nconst columns = [\n  { title: '接口path', width: 100, dataIndex: 'name', key: 'name', fixed: 'left' },\n  { title: '请求方式', width: 100, dataIndex: 'age', key: 'age', fixed: 'left' },\n  { title: '请求数据', dataIndex: 'address', key: '1', width: 150 },\n  { title: '请求Header', dataIndex: 'address', key: '2', width: 150 },\n  { title: '请求耗时', dataIndex: 'address', key: '3', width: 150 },\n  { title: '返回Status', dataIndex: 'address', key: '4', width: 150 },\n  { title: '返回Header', dataIndex: 'address', key: '5', width: 150 },\n  { title: '返回Data', dataIndex: 'address', key: '6', width: 150 },\n  { title: '请求Size', dataIndex: 'address', key: '7', width: 150 },\n  { title: '返回Size', dataIndex: 'address', key: '8' },\n  {\n    title: 'Action',\n    key: 'operation',\n    fixed: 'right',\n    width: 100,\n    scopedSlots: { customRender: ['action'],},\n  },\n];\n\nconst data = [];\nfor (let i = 0; i < 100; i++) {\n  data.push({\n    key: i,\n    name: `Edrward ${i}`,\n    age: 32,\n    address: `London Park no. ${i}`,\n  });\n}\n\nexport default {\n  data() {\n    this.components = {\n      header: {\n        cell: ResizeableTitle,\n      },\n    };\n    return {\n      data,\n      columns,\n      expand: false,\n      form: this.$form.createForm(this, { name: 'advanced_search' }),\n      path: \"ws://127.0.0.1:3333/tempinter/tempsocket/flow/10000000\",\n      socket:\"\",\n      has_mitmproxy: false,\n      createShow: true,\n      mitm_message:{},\n    };\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n\n[v-cloak]\n{  \ndisplay: none; \n}\n\n\n.ant-advanced-search-form {\n  padding: 24px;\n  background: #fbfbfb;\n  border: 1px solid #d9d9d9;\n  border-radius: 6px;\n}\n\n.ant-advanced-search-form .ant-form-item {\n  display: flex;\n}\n\n.ant-advanced-search-form .ant-form-item-control-wrapper {\n  flex: 1;\n}\n\n#components-form-demo-advanced-search .ant-form {\n  max-width: none;\n}\n#components-form-demo-advanced-search {\n  margin-top: 16px;\n  border: 1px dashed #e9e9e9;\n  border-radius: 6px;\n  background-color: #fafafa;\n  min-height: 200px;\n  text-align: center;\n  /* padding-top: 10px; */\n}\n\n.search-result-list {\n  margin-top: 16px;\n  border: 1px dashed #e9e9e9;\n  border-radius: 6px;\n  background-color: #fafafa;\n  min-height: 200px;\n  text-align: center;\n  padding-top: 20px;\n}\n\n@media (min-width: 900px){\n  .search-methdod-select {\n    width: 150px;\n  }\n}\n\n@media (max-width: 900px) {\n  .search-methdod-select {\n    width: 100px;\n  }\n}\n\n.resize-table-th {\n  position: relative;\n  .table-draggable-handle {\n    height: 100% !important;\n    bottom: 0;\n    left: auto !important;\n    right: -5px;\n    cursor: col-resize;\n    touch-action: none;\n  }\n}\n\n\n</style>"]}]}