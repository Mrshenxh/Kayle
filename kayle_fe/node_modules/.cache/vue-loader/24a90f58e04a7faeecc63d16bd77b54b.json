{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/showplan.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/showplan.vue","mtime":1610605270918},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCnRyOmxhc3QtY2hpbGQgdGQgewogIHBhZGRpbmctYm90dG9tOiAwOwogIC8qIGNvbG9yOmNvcm5mbG93ZXJibHVlICovCn0K"},{"version":3,"sources":["showplan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA","file":"showplan.vue","sourceRoot":"src/components/testplan","sourcesContent":["<template>\n  <div>\n    <div>\n      <a-page-header\n        title=\"回归计划\"\n        :sub-title=\"basePlanDetail.clientVersion + '版本回归测试计划'\"\n      >\n        <template slot=\"tags\">\n          <a-tag color=\"blue\">\n            执行中\n          </a-tag>\n        </template>\n        <template slot=\"extra\">\n          <a-button key=\"3\">\n            修改计划\n          </a-button>\n          <a-button key=\"2\" @click=\"showDeleteConfirm\">\n            关闭计划\n          </a-button>\n          <a-button key=\"1\" type=\"primary\">\n            重启计划\n          </a-button>\n        </template>\n        <a-row type=\"flex\" style=\"padding: 10px;\">\n          <a-statistic title=\"测试版本\" :value=\"basePlanDetail.clientVersion\" />\n          <a-statistic\n            title=\"创建人\"\n            :value=\"basePlanDetail.planUser\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"覆盖率\"\n            :value=\"basePlanDetail.coreRate\"\n            :value-style=\"{ color: 'red' }\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"开始时间\"\n            :value=\"basePlanDetail.planStart\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n          <a-statistic\n            title=\"结束时间\"\n            :value=\"basePlanDetail.planEnd\"\n            :style=\"{\n              margin: '0 35px'\n            }\"\n          />\n        </a-row>\n      </a-page-header>\n    </div>\n    <div>\n      <a-tabs default-active-key=\"1\" @change=\"changeTab\">\n        <a-tab-pane key=\"1\">\n          <span slot=\"tab\">\n            <a-icon type=\"file\" />\n            所有接口\n          </span>\n          <plantable\n            :columns=\"columns\"\n            :tabType=\"tabtype\"\n            :usersearch=\"usersearch\"\n          ></plantable>\n        </a-tab-pane>\n\n        <a-tab-pane key=\"2\">\n          <span slot=\"tab\">\n            <a-icon type=\"undo\" />\n            未匹配接口\n          </span>\n          <plantable\n            :columns=\"columns\"\n            :tabType=\"tabtype\"\n            :usersearch=\"usersearch\"\n          ></plantable>\n        </a-tab-pane>\n        <a-input-search\n          slot=\"tabBarExtraContent\"\n          enter-button\n          placeholder=\"请输入负责人名称\"\n          style=\"width: 200px\"\n          @search=\"onSearch\"\n        />\n      </a-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport { message, Modal } from \"ant-design-vue\";\nimport plantable from \"@/components/testplan/plantable\";\n\nexport default {\n  data() {\n    return {\n      basePlanDetail: {\n        clientVersion: \"\",\n        planUser: \"\",\n        coreRate: \"\",\n        planStart: \"\",\n        planEnd: \"\",\n        coreData: []\n      },\n      columns: [\n        {\n          title: \"接口正则\",\n          dataIndex: \"interface_regular\",\n          key: \"interface_regular\",\n          width: 300,\n          scopedSlots: { customRender: \"interface_regular\" }\n        },\n        {\n          title: \"接口ID\",\n          dataIndex: \"interface_id\",\n          key: \"interface_id\",\n          width: 200\n        },\n        {\n          title: \"负责人\",\n          dataIndex: \"user_name\",\n          key: \"user_name\",\n          width: 100\n        },\n        {\n          title: \"所属业务\",\n          dataIndex: \"content\",\n          key: \"content\",\n          width: 100,\n          scopedSlots: { customRender: \"belongBusiness\" }\n        },\n        {\n          title: \"接口描述\",\n          dataIndex: \"interface_desc\",\n          key: \"interface_desc\"\n        }\n      ],\n      usersearch: \"\",\n      tabtype: \"coreData\"\n    };\n  },\n  props: [\"planDetail\"],\n  components: {\n    plantable\n  },\n  watch: {\n    planDetail() {\n      this.basePlanDetail = this.planDetail;\n    }\n  },\n  methods: {\n    closePlan() {\n      request({\n        url: \"/api/plan/stopplan\",\n        method: \"POST\"\n      }).then(res => {\n        if (res.data.code === 320000) {\n          message.success(res.data.msg);\n          /**\n           * 计划创建成功，回调给父组件\n           */\n          this.$emit(\"closedPlan\");\n        } else {\n          message.warning(res.data.msg);\n        }\n      });\n    },\n    showDeleteConfirm() {\n      const that = this;\n      Modal.confirm({\n        title: \"确认要关闭此计划么？\",\n        content: that.basePlanDetail.clientVersion + \"版本回归测试计划\",\n        okText: \"确认\",\n        okType: \"danger\",\n        cancelText: \"取消\",\n        onOk() {\n          that.closePlan();\n        },\n        onCancel() {\n          console.log(\"Cancel\");\n        }\n      });\n    },\n    onSearch(value) {\n      console.log(value);\n      this.usersearch = value;\n    },\n    changeTab(activityKey) {\n      console.log(activityKey);\n      if (activityKey === \"1\") {\n        this.tabtype = \"coreData\";\n      } else if (activityKey === \"2\") {\n        this.tabtype = \"unDoneCore\";\n      }\n    }\n  }\n};\n</script>\n<style>\ntr:last-child td {\n  padding-bottom: 0;\n  /* color:cornflowerblue */\n}\n</style>\n"]}]}