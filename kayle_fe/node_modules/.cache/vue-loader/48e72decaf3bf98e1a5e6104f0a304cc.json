{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/plantable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/testplan/plantable.vue","mtime":1610605270916},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7Ci8vIGltcG9ydCB7bWVzc2FnZX0gZnJvbSAnYW50LWRlc2lnbi12dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbXSwKICAgICAgcXVlcnlwbGFuY29yZTogIi9hcGkvcGxhbi9xdWVyeXBsYW5jb3JlPyIsCiAgICAgIHBhZ2VpZDogMSwKICAgICAgY29yZUNvbHVtbnM6IFtdLAogICAgICB1bkRvbmVDb2x1bW5zOiBbXSwKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIHRvdGFsOiAxMAogICAgICB9LAogICAgICBpc1NwaW5uaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiBbImNvbHVtbnMiLCAidGFiVHlwZSIsICJ1c2Vyc2VhcmNoIl0sCgogIHdhdGNoOiB7CiAgICAvLyDnm5HlkKx0YWJUeXBl5Y+Y5YyW77yM5aaC5p6c5pyJ5Y+Y5YyW5YiZ6YeN5paw6K+35rGCCiAgICB0YWJUeXBlKCkgewogICAgICB0aGlzLnBhZ2VpZCA9IDE7CiAgICAgIHRoaXMuYmFzZVJlcXVlc3RGdW5jKHRoaXMucGFnZWlkKTsKICAgIH0sCiAgICB1c2Vyc2VhcmNoKCkgewogICAgICB0aGlzLmJhc2VVc2Vyc2VhcmNoID0gdGhpcy51c2Vyc2VhcmNoOwogICAgICB0aGlzLnBhZ2VpZCA9IDE7CiAgICAgIHRoaXMuYmFzZVJlcXVlc3RGdW5jKHRoaXMucGFnZWlkKTsKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy5jb2x1bW5zKTsKICAgIGNvbnNvbGUubG9nKHRoaXMudGFiVHlwZSk7CiAgICB0aGlzLmlzU3Bpbm5pbmcgPSB0cnVlOwogICAgaWYgKHRoaXMudGFiVHlwZSA9PT0gImNvcmVEYXRhIikgewogICAgICB0aGlzLmNvcmVDb2x1bW5zLnB1c2goewogICAgICAgIHRpdGxlOiAi5Yy56YWN5L+h5oGvKOezu+e7n+OAgeeJiOacrOOAgeacuuWeiykiLAogICAgICAgIGRhdGFJbmRleDogIm1hdGNoX2luZm9tYXRpb24iLAogICAgICAgIGtleTogIm1hdGNoX2luZm9tYXRpb24iLAogICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImltYXRjaC1pbmZvbWF0aW9uIiB9LAogICAgICAgIHdpZHRoOiAzMDAKICAgICAgfSk7CiAgICAgIHRoaXMuY29yZUNvbHVtbnMucHVzaCh7CiAgICAgICAgdGl0bGU6ICLmmK/lkKblrozmiJAiLAogICAgICAgIGRhdGFJbmRleDogImlzX2ZpbmlzaGVkIiwKICAgICAgICBrZXk6ICJpc19maW5pc2hlZCIsCiAgICAgICAgd2lkdGg6IDEwMCwKICAgICAgICAvLyBmaXhlZDogInJpZ2h0IiwKICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpcy1maW5pc2hlZCIgfQogICAgICB9KTsKICAgICAgdGhpcy5jb3JlQ29sdW1ucyA9IFsuLi50aGlzLmNvbHVtbnMsIC4uLnRoaXMuY29yZUNvbHVtbnNdOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvcmVDb2x1bW5zKTsKICAgIH0gZWxzZSBpZiAodGhpcy50YWJUeXBlID09PSAidW5Eb25lQ29yZSIpIHsKICAgICAgdGhpcy51bkRvbmVDb2x1bW5zID0gdGhpcy5jb2x1bW5zOwogICAgfQogICAgdGhpcy5iYXNlUmVxdWVzdEZ1bmModGhpcy5wYWdlaWQpOwogICAgdGhpcy5pc1NwaW5uaW5nID0gZmFsc2U7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRRdWVyeVBsYW5Db3JlVVJMKHBhZ2VJZCkgewogICAgICB2YXIgYmFzZVF1ZXJ5VXJsID0KICAgICAgICB0aGlzLnF1ZXJ5cGxhbmNvcmUgKyAidGFidHlwZT0iICsgdGhpcy50YWJUeXBlICsgIiZwYWdlaWQ9IiArIHBhZ2VJZDsKICAgICAgaWYgKHRoaXMuYmFzZVVzZXJzZWFyY2gpIHsKICAgICAgICBiYXNlUXVlcnlVcmwgPSBiYXNlUXVlcnlVcmwgKyAiJnVzZXJzZWFyY2g9IiArIHRoaXMuYmFzZVVzZXJzZWFyY2g7CiAgICAgIH0KICAgICAgcmV0dXJuIGJhc2VRdWVyeVVybDsKICAgIH0sCgogICAgY2hhbmdlUGFnZShlKSB7CiAgICAgIHZhciBzdWJTdHIgPSBuZXcgUmVnRXhwKC9wYWdlaWQ9XGR7MCwzfS8pOwogICAgICB0aGlzLmNvcmVJbnRlclVybCA9IHRoaXMuY29yZUludGVyVXJsLnJlcGxhY2UoCiAgICAgICAgc3ViU3RyLAogICAgICAgICJwYWdlaWQ9IiArIGUuY3VycmVudAogICAgICApOwogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6IHRoaXMuY29yZUludGVyVXJsLAogICAgICAgIG1ldGhvZDogIkdFVCIKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMzAwMDMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEuZGF0YSk7CiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdG9sUGFnZXMgKiAxMDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBiYXNlUmVxdWVzdEZ1bmMocGFnZWlkKSB7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogdGhpcy5nZXRRdWVyeVBsYW5Db3JlVVJMKHBhZ2VpZCksCiAgICAgICAgbWV0aG9kOiAiR0VUIgogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDMxMDAwMCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90b2xQYWdlcyAqIDEwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["plantable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"plantable.vue","sourceRoot":"src/components/testplan","sourcesContent":["<template>\n  <div>\n    <a-spin :spinning=\"isSpinning\" tip=\"Loading...\">\n      <a-table\n        :columns=\"tabType === 'coreData' ? coreColumns : unDoneColumns\"\n        :data-source=\"data\"\n        :pagination=\"pagination\"\n        :scroll=\"{ y: 300, x: 1500 }\"\n        bordered\n      >\n        <div slot=\"belongBusiness\" slot-scope=\"text, record\">\n          <a-tag :color=\"record.content === 'Content' ? 'volcano' : 'green'\">\n            {{ record.content }}\n          </a-tag>\n        </div>\n\n        <div slot=\"interface_regular\" slot-scope=\"text, record\">\n          <div>\n            {{ record.interface_regular }}\n          </div>\n        </div>\n\n        <div slot=\"imatch-infomation\" slot-scope=\"text, record\">\n          <div\n            v-for=\"(matchDict, index) in record.match_infomation\"\n            :key=\"index\"\n          >\n            <a-avatar shape=\"square\" icon=\"snippets\" size=\"small\" />\n            <a-tag color=\"pink\" style=\"margin-left:10px\">\n              {{ matchDict.inter_os }}\n            </a-tag>\n            <a-tag color=\"red\">\n              {{ matchDict.inter_release }}\n            </a-tag>\n            <a-tag color=\"orange\">\n              {{ matchDict.inter_brand }}\n            </a-tag>\n          </div>\n        </div>\n\n        <div slot=\"is-finished\" slot-scope=\"text, record\">\n          <a-icon\n            :type=\"record.is_finished ? 'check-circle' : 'close-circle'\"\n            theme=\"twoTone\"\n            style=\"font-size: 24px;margin-left:15px\"\n            :two-tone-color=\"record.is_finished ? 'green' : 'red'\"\n          ></a-icon>\n        </div>\n      </a-table>\n    </a-spin>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\n// import {message} from 'ant-design-vue';\n\nexport default {\n  data() {\n    return {\n      data: [],\n      queryplancore: \"/api/plan/queryplancore?\",\n      pageid: 1,\n      coreColumns: [],\n      unDoneColumns: [],\n      pagination: {\n        total: 10\n      },\n      isSpinning: false\n    };\n  },\n  props: [\"columns\", \"tabType\", \"usersearch\"],\n\n  watch: {\n    // 监听tabType变化，如果有变化则重新请求\n    tabType() {\n      this.pageid = 1;\n      this.baseRequestFunc(this.pageid);\n    },\n    usersearch() {\n      this.baseUsersearch = this.usersearch;\n      this.pageid = 1;\n      this.baseRequestFunc(this.pageid);\n    }\n  },\n\n  created() {\n    console.log(this.columns);\n    console.log(this.tabType);\n    this.isSpinning = true;\n    if (this.tabType === \"coreData\") {\n      this.coreColumns.push({\n        title: \"匹配信息(系统、版本、机型)\",\n        dataIndex: \"match_infomation\",\n        key: \"match_infomation\",\n        scopedSlots: { customRender: \"imatch-infomation\" },\n        width: 300\n      });\n      this.coreColumns.push({\n        title: \"是否完成\",\n        dataIndex: \"is_finished\",\n        key: \"is_finished\",\n        width: 100,\n        // fixed: \"right\",\n        scopedSlots: { customRender: \"is-finished\" }\n      });\n      this.coreColumns = [...this.columns, ...this.coreColumns];\n      console.log(this.coreColumns);\n    } else if (this.tabType === \"unDoneCore\") {\n      this.unDoneColumns = this.columns;\n    }\n    this.baseRequestFunc(this.pageid);\n    this.isSpinning = false;\n  },\n  methods: {\n    getQueryPlanCoreURL(pageId) {\n      var baseQueryUrl =\n        this.queryplancore + \"tabtype=\" + this.tabType + \"&pageid=\" + pageId;\n      if (this.baseUsersearch) {\n        baseQueryUrl = baseQueryUrl + \"&usersearch=\" + this.baseUsersearch;\n      }\n      return baseQueryUrl;\n    },\n\n    changePage(e) {\n      var subStr = new RegExp(/pageid=\\d{0,3}/);\n      this.coreInterUrl = this.coreInterUrl.replace(\n        subStr,\n        \"pageid=\" + e.current\n      );\n      request({\n        url: this.coreInterUrl,\n        method: \"GET\"\n      }).then(res => {\n        if (res.data.code === 230003) {\n          console.log(res.data.data.data);\n          this.data = res.data.data.data;\n          this.pagination.total = res.data.data.totolPages * 10;\n        }\n      });\n    },\n\n    baseRequestFunc(pageid) {\n      request({\n        url: this.getQueryPlanCoreURL(pageid),\n        method: \"GET\"\n      }).then(res => {\n        if (res.data.code === 310000) {\n          console.log(res.data.data.data);\n          this.data = res.data.data.data;\n          this.pagination.total = res.data.data.totolPages * 10;\n        } else {\n          this.data = [];\n        }\n      });\n    }\n  }\n};\n</script>\n"]}]}