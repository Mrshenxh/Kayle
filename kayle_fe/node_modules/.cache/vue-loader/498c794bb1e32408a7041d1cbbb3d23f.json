{"remainingRequest":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/editmodal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shenxh/Desktop/qa_auto_test/src/components/modulelist/editmodal.vue","mtime":1611912960086},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shenxh/Desktop/qa_auto_test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICJhbnQtZGVzaWduLXZ1ZSI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmltcG9ydCB7IGJlbG9uZ0J1c2luZXNzIH0gZnJvbSAiQC91dGlscy9jb21tb25jb25maWciOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25WaXNpYmxlOiBmYWxzZSwKICAgICAgbGFiZWxDb2w6IHsgc3BhbjogNCB9LAogICAgICB3cmFwcGVyQ29sOiB7IHNwYW46IDE0IH0sCiAgICAgIGJlbG9uZ0J1c2luZXNzOiBiZWxvbmdCdXNpbmVzcywKICAgICAgZm9ybTogewogICAgICAgIGludGVyZmFjZVBhdGg6ICIiLAogICAgICAgIGludGVyZmFjZVJlZ3VsYXI6ICIiLAogICAgICAgIGJlbG9uZ0J1c2luZXNzOiAiT3RoZXIiLAogICAgICAgIGludGVyZmFjZURlc2M6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaW50ZXJmYWNlUGF0aDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeaguOW/g+aOpeWPo+i3r+W+hCIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICBtaW46IDMsCiAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICBtZXNzYWdlOiAi5o6l5Y+j6Lev5b6E5Li6M++9njEwMOS4quWtl+espumVv+W6piIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgaW50ZXJmYWNlUmVndWxhcjogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeaOpeWPo+WMuemFjeato+WImSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgewogICAgICAgICAgICBtaW46IDMsCiAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICBtZXNzYWdlOiAi5o6l5Y+j5Yy56YWN5q2j5YiZ6ZW/5bqm5Li6M++9njEwMOS4quWtl+espiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgYmVsb25nQnVzaW5lc3M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nmiYDlsZ7kuJrliqEiLAogICAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIiwKICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAiT3RoZXIiCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBpbnRlcmZhY2VEZXNjOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5qC45b+D5o6l5Y+j5o+P6L+wIiwgdHJpZ2dlcjogImJsdXIiIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICAvLyDov5nph4zopoHkvb/nlKjkuIDkuKrnm5HlkKzlsZ7mgKfvvIzmo4DmtYvniLblsZ7mgKd2aXNpYmxl55qE5Y+Y5YyWCiAgd2F0Y2g6IHsKICAgIHZpc2libGUoKSB7CiAgICAgIHRoaXMuc29uVmlzaWJsZSA9IHRoaXMudmlzaWJsZTsKICAgIH0sCiAgICBub3dDb2x1bW5zKCkgewogICAgICB0aGlzLmZvcm0uaW50ZXJmYWNlUGF0aCA9IHRoaXMubm93Q29sdW1ucy5pbnRlcmZhY2VQYXRoOwogICAgICB0aGlzLmZvcm0uaW50ZXJmYWNlUmVndWxhciA9IHRoaXMubm93Q29sdW1ucy5pbnRlcmZhY2VSZWd1bGFyOwogICAgICB0aGlzLmZvcm0uYmVsb25nQnVzaW5lc3MgPSB0aGlzLm5vd0NvbHVtbnMuY29udGVudDsKICAgICAgdGhpcy5mb3JtLmludGVyZmFjZURlc2MgPSB0aGlzLm5vd0NvbHVtbnMuaW50ZXJmYWNlRGVzYzsKICAgIH0KICB9LAogIHByb3BzOiBbInZpc2libGUiLCAibm93Q29sdW1ucyJdLAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KCkgewogICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMubm93Q29sdW1ucy5pbnRlcmZhY2VQYXRoID0gdGhpcy5mb3JtLmludGVyZmFjZVBhdGg7CiAgICAgICAgICB0aGlzLm5vd0NvbHVtbnMuaW50ZXJmYWNlUmVndWxhciA9IHRoaXMuZm9ybS5pbnRlcmZhY2VSZWd1bGFyOwogICAgICAgICAgdGhpcy5ub3dDb2x1bW5zLmJlbG9uZ0J1c2luZXNzID0gdGhpcy5mb3JtLmJlbG9uZ0J1c2luZXNzOwogICAgICAgICAgdGhpcy5ub3dDb2x1bW5zLmludGVyZmFjZURlc2MgPSB0aGlzLmZvcm0uaW50ZXJmYWNlRGVzYzsKCiAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgdXJsOiAiL2FwaS90ZW1waW50ZXIvZWRpdGNvcmUiLAogICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgZGF0YTogdGhpcy5ub3dDb2x1bW5zCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyNjAwMDApIHsKICAgICAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVNob3dFZGl0TW9kb2wiLCB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgcmVsb2FkOiB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy5ydWxlRm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VTaG93RWRpdE1vZG9sIiwgewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHJlbG9hZDogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["editmodal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editmodal.vue","sourceRoot":"src/components/modulelist","sourcesContent":["<template>\n  <div>\n    <a-modal\n      v-model=\"sonVisible\"\n      title=\"核心接口编辑\"\n      @ok=\"onSubmit\"\n      width=\"600px\"\n      okText=\"保存\"\n      @cancel=\"resetForm\"\n      cancelText=\"取消\"\n    >\n      <a-form-model\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        :label-col=\"labelCol\"\n        :wrapper-col=\"wrapperCol\"\n      >\n        <a-form-model-item\n          ref=\"interfacePath\"\n          label=\"接口名称\"\n          prop=\"interfacePath\"\n        >\n          <a-input\n            v-model=\"form.interfacePath\"\n            @blur=\"\n              () => {\n                $refs.interfacePath.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n        <a-form-model-item\n          ref=\"interfaceRegular\"\n          label=\"接口正则\"\n          prop=\"interfaceRegular\"\n        >\n          <a-input\n            v-model=\"form.interfaceRegular\"\n            @blur=\"\n              () => {\n                $refs.interfaceRegular.onFieldBlur();\n              }\n            \"\n          />\n        </a-form-model-item>\n\n        <a-form-model-item label=\"所属业务\" prop=\"belongBusiness\">\n          <a-select v-model=\"form.belongBusiness\" placeholder=\"请选择所属业务\">\n            <a-select-option\n              v-for=\"(item, index) in belongBusiness\"\n              :key=\"index\"\n              :value=\"item.busValue\"\n            >\n              {{ item.busName }}\n            </a-select-option>\n          </a-select>\n        </a-form-model-item>\n\n        <a-form-model-item label=\"接口描述\" prop=\"interfaceDesc\">\n          <a-input v-model=\"form.interfaceDesc\" type=\"textarea\" />\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport { message } from \"ant-design-vue\";\nimport request from \"@/utils/request\";\nimport { belongBusiness } from \"@/utils/commonconfig\";\n\nexport default {\n  data() {\n    return {\n      sonVisible: false,\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      belongBusiness: belongBusiness,\n      form: {\n        interfacePath: \"\",\n        interfaceRegular: \"\",\n        belongBusiness: \"Other\",\n        interfaceDesc: \"\"\n      },\n      rules: {\n        interfacePath: [\n          { required: true, message: \"请输入核心接口路径\", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 100,\n            message: \"接口路径为3～100个字符长度\",\n            trigger: \"blur\"\n          }\n        ],\n        interfaceRegular: [\n          { required: true, message: \"请输入接口匹配正则\", trigger: \"blur\" },\n          {\n            min: 3,\n            max: 100,\n            message: \"接口匹配正则长度为3～100个字符\",\n            trigger: \"blur\"\n          }\n        ],\n        belongBusiness: [\n          {\n            required: true,\n            message: \"请选择所属业务\",\n            trigger: \"change\",\n            defaultValue: \"Other\"\n          }\n        ],\n        interfaceDesc: [\n          { required: true, message: \"请输入核心接口描述\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  // 这里要使用一个监听属性，检测父属性visible的变化\n  watch: {\n    visible() {\n      this.sonVisible = this.visible;\n    },\n    nowColumns() {\n      this.form.interfacePath = this.nowColumns.interfacePath;\n      this.form.interfaceRegular = this.nowColumns.interfaceRegular;\n      this.form.belongBusiness = this.nowColumns.content;\n      this.form.interfaceDesc = this.nowColumns.interfaceDesc;\n    }\n  },\n  props: [\"visible\", \"nowColumns\"],\n  methods: {\n    onSubmit() {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          this.nowColumns.interfacePath = this.form.interfacePath;\n          this.nowColumns.interfaceRegular = this.form.interfaceRegular;\n          this.nowColumns.belongBusiness = this.form.belongBusiness;\n          this.nowColumns.interfaceDesc = this.form.interfaceDesc;\n\n          request({\n            url: \"/api/tempinter/editcore\",\n            method: \"POST\",\n            data: this.nowColumns\n          }).then(res => {\n            if (res.data.code === 260000) {\n              message.success(res.data.msg);\n            } else {\n              message.error(res.data.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n\n      this.$emit(\"changeShowEditModol\", {\n        visible: false,\n        reload: true\n      });\n    },\n    resetForm() {\n      this.$refs.ruleForm.resetFields();\n      this.$emit(\"changeShowEditModol\", {\n        visible: false,\n        reload: true\n      });\n    }\n  }\n};\n</script>\n\n<style></style>\n"]}]}